<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WIPO Contrast • uspto</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="WIPO Contrast">
<meta property="og:description" content="uspto">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">uspto</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/example-inventor_comparisons.html">Compare Inventors Between Search Sets</a>
    </li>
    <li>
      <a href="../articles/example-patentsview_inventors.html">Analyze Inventor Features Using PatentsView Data</a>
    </li>
    <li>
      <a href="../articles/example-patentsview_inventors_p2.html">Analyzing Inventor Sex Differences</a>
    </li>
    <li>
      <a href="../articles/example-seed_expand.html">Expand from a Seed Set</a>
    </li>
    <li>
      <a href="../articles/wipo_contrast.html">WIPO Contrast</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>WIPO Contrast</h1>
            
      
      
      <div class="hidden name"><code>wipo_contrast.Rmd</code></div>

    </div>

    
    
<p><em>Built with R 4.2.1</em></p>
<hr>
<style type="text/css">
.table {margin-bottom: 40px}
td {white-space: nowrap}
</style>
<p>From the <a href="https://uva-bi-sdad.github.io/uspto/articles/example-patentsview_inventors.html" class="external-link">previous
example</a> we can see that inventors of different sex groups seem to be
represented differently by classes of patents. Here, we’ll focus on two
of the World Intellectual Property Organization (WIPO) classes:
Pharmaceuticals, which has a particularly high allocation of
female-assigned inventors, and Civil Engineering, which has a
particularly high allocation of male-assigned inventors.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">uspto</span><span class="op">)</span></span>
<span><span class="va">outDir</span> <span class="op">&lt;-</span> <span class="st">"../patentsview/"</span></span></code></pre></div>
<p>We’ll start by collecting a unified set of patents that have either
of the focal WIPO classes:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">contrast_inventors_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">outDir</span>, <span class="st">"contrast_inventors.csv.xz"</span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.exists</a></span><span class="op">(</span><span class="va">contrast_inventors_file</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">contrast_inventors</span> <span class="op">&lt;-</span> <span class="fu">vroom</span><span class="fu">::</span><span class="fu"><a href="https://vroom.r-lib.org/reference/vroom.html" class="external-link">vroom</a></span><span class="op">(</span><span class="va">contrast_inventors_file</span>, show_col_types <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="co"># 1. identify patents that fall exclusively into one of the two focal WIPO classes</span></span>
<span>  <span class="va">wipo_fields</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/download_patentsview_bulk.html">download_patentsview_bulk</a></span><span class="op">(</span><span class="st">"wipo_field"</span>, <span class="va">outDir</span><span class="op">)</span></span>
<span>  <span class="va">wipo_fields</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    pharma <span class="op">=</span> <span class="va">wipo_fields</span><span class="op">[</span><span class="va">wipo_fields</span><span class="op">$</span><span class="va">field_title</span> <span class="op">==</span> <span class="st">"Pharmaceuticals"</span>, <span class="st">"id"</span>, drop <span class="op">=</span> <span class="cn">TRUE</span><span class="op">]</span>,</span>
<span>    civil <span class="op">=</span> <span class="va">wipo_fields</span><span class="op">[</span><span class="va">wipo_fields</span><span class="op">$</span><span class="va">field_title</span> <span class="op">==</span> <span class="st">"Civil engineering"</span>, <span class="st">"id"</span>, drop <span class="op">=</span> <span class="cn">TRUE</span><span class="op">]</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="va">wipo_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/patentsview_class_matrix.html">patentsview_class_matrix</a></span><span class="op">(</span><span class="st">"wipo"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">outDir</span>, <span class="st">"wipo_matrix.rds"</span><span class="op">)</span>, dir <span class="op">=</span> <span class="va">outDir</span><span class="op">)</span></span>
<span>  <span class="va">wipo_pharma</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span></span>
<span>    <span class="va">wipo_matrix</span><span class="op">[</span>, <span class="va">wipo_fields</span><span class="op">[[</span><span class="st">"pharma"</span><span class="op">]</span><span class="op">]</span><span class="op">]</span> <span class="op">!=</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="va">wipo_matrix</span><span class="op">[</span>, <span class="va">wipo_fields</span><span class="op">[[</span><span class="st">"civil"</span><span class="op">]</span><span class="op">]</span><span class="op">]</span> <span class="op">==</span> <span class="fl">0</span></span>
<span>  <span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">wipo_civil</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span></span>
<span>    <span class="va">wipo_matrix</span><span class="op">[</span>, <span class="va">wipo_fields</span><span class="op">[[</span><span class="st">"civil"</span><span class="op">]</span><span class="op">]</span><span class="op">]</span> <span class="op">!=</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="va">wipo_matrix</span><span class="op">[</span>, <span class="va">wipo_fields</span><span class="op">[[</span><span class="st">"pharma"</span><span class="op">]</span><span class="op">]</span><span class="op">]</span> <span class="op">==</span> <span class="fl">0</span></span>
<span>  <span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">wipo_targets</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">wipo_pharma</span>, <span class="va">wipo_civil</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co"># 2. identify the inventors associated with those patents</span></span>
<span>  <span class="va">patent_inventors</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/download_patentsview_bulk.html">download_patentsview_bulk</a></span><span class="op">(</span></span>
<span>    <span class="st">"patent_inventor"</span>, <span class="va">outDir</span>,</span>
<span>    make_db <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    partition <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>series_code <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">d</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">d</span><span class="op">$</span><span class="va">patent_id</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="va">contrast_inventors</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">patent_inventors</span>, <span class="va">patent_id</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">wipo_targets</span></span>
<span>  <span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">contrast_inventors</span><span class="op">$</span><span class="va">n_inventors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tapply.html" class="external-link">tapply</a></span><span class="op">(</span></span>
<span>    <span class="va">contrast_inventors</span><span class="op">$</span><span class="va">inventor_id</span>, <span class="va">contrast_inventors</span><span class="op">$</span><span class="va">patent_id</span>, <span class="va">length</span></span>
<span>  <span class="op">)</span><span class="op">[</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">patent_id</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co"># 3. combine patent and inventor data</span></span>
<span>  <span class="va">patents</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/download_patentsview_bulk.html">download_patentsview_bulk</a></span><span class="op">(</span><span class="st">"patent"</span>, <span class="va">outDir</span>, make_db <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="va">patents_target</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">patents</span>, <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">number</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">wipo_targets</span></span>
<span>  <span class="op">)</span>, <span class="va">number</span>, <span class="va">type</span>, <span class="va">date</span>, <span class="va">num_claims</span>, <span class="va">withdrawn</span>, <span class="va">kind</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">patents_target</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">patents_target</span><span class="op">$</span><span class="va">number</span></span>
<span>  <span class="va">contrast_inventors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">contrast_inventors</span>, <span class="va">patents_target</span><span class="op">[</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">patent_id</span>, <span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span>  <span class="va">contrast_inventors</span><span class="op">$</span><span class="va">WIPO_class</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"FALSE"</span> <span class="op">=</span> <span class="st">"Civil Engineering"</span>, <span class="st">"TRUE"</span> <span class="op">=</span> <span class="st">"Pharmaceuticals"</span></span>
<span>  <span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">patent_id</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">wipo_pharma</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span>  <span class="co"># 4. add assignee data</span></span>
<span>  <span class="va">patent_assignees</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/download_patentsview_bulk.html">download_patentsview_bulk</a></span><span class="op">(</span></span>
<span>    <span class="st">"patent_assignee"</span>, <span class="va">outDir</span>,</span>
<span>    make_db <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    partition <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>series_code <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">d</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">d</span><span class="op">$</span><span class="va">patent_id</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="va">assignees</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">patent_assignees</span>, <span class="va">patent_id</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">contrast_inventors</span><span class="op">$</span><span class="va">patent_id</span></span>
<span>  <span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">assignees</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/download_patentsview_bulk.html">download_patentsview_bulk</a></span><span class="op">(</span><span class="st">"rawassignee"</span>, <span class="va">outDir</span>, make_db <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="va">assignees_target</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">assignees</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">patent_id</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">contrast_inventors</span><span class="op">$</span><span class="va">patent_id</span> <span class="op">&amp;</span> <span class="va">sequence</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">organization</span><span class="op">)</span></span>
<span>  <span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">contrast_inventors</span><span class="op">$</span><span class="va">assignee_id</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/structure.html" class="external-link">structure</a></span><span class="op">(</span></span>
<span>    <span class="va">assignees_target</span><span class="op">$</span><span class="va">assignee_id</span>,</span>
<span>    names <span class="op">=</span> <span class="va">assignees_target</span><span class="op">$</span><span class="va">patent_id</span></span>
<span>  <span class="op">)</span><span class="op">[</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">patent_id</span><span class="op">]</span></span>
<span>  <span class="va">contrast_inventors</span><span class="op">$</span><span class="va">assignee_type</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/structure.html" class="external-link">structure</a></span><span class="op">(</span></span>
<span>    <span class="va">assignees_target</span><span class="op">$</span><span class="va">type</span>,</span>
<span>    names <span class="op">=</span> <span class="va">assignees_target</span><span class="op">$</span><span class="va">patent_id</span></span>
<span>  <span class="op">)</span><span class="op">[</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">patent_id</span><span class="op">]</span></span>
<span>  <span class="va">contrast_inventors</span><span class="op">$</span><span class="va">assignee_organization</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/structure.html" class="external-link">structure</a></span><span class="op">(</span></span>
<span>    <span class="va">assignees_target</span><span class="op">$</span><span class="va">organization</span>,</span>
<span>    names <span class="op">=</span> <span class="va">assignees_target</span><span class="op">$</span><span class="va">patent_id</span></span>
<span>  <span class="op">)</span><span class="op">[</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">patent_id</span><span class="op">]</span></span>
<span></span>
<span>  <span class="co"># 5. add location information</span></span>
<span>  <span class="va">locations</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/download_patentsview_bulk.html">download_patentsview_bulk</a></span><span class="op">(</span><span class="st">"location"</span>, <span class="va">outDir</span>, make_db <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="va">locations_target</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">locations</span>, <span class="va">id</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">contrast_inventors</span><span class="op">$</span><span class="va">location_id</span></span>
<span>  <span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">locations_target</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">locations_target</span><span class="op">$</span><span class="va">country</span><span class="op">)</span>, <span class="st">"country"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"US"</span></span>
<span>  <span class="va">locations_target</span> <span class="op">&lt;-</span> <span class="va">locations_target</span><span class="op">[</span>, <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">locations_target</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"state"</span>, <span class="st">"county"</span><span class="op">)</span><span class="op">]</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">locations_target</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">locations_target</span><span class="op">$</span><span class="va">id</span></span>
<span>  <span class="va">contrast_inventors</span> <span class="op">&lt;-</span> <span class="va">contrast_inventors</span><span class="op">[</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">location_id</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">locations_target</span><span class="op">$</span><span class="va">id</span>, <span class="op">-</span><span class="fl">4</span><span class="op">]</span></span>
<span>  <span class="va">contrast_inventors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">contrast_inventors</span>, <span class="va">locations_target</span><span class="op">[</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">location_id</span>, <span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span>  <span class="va">contrast_inventors</span><span class="op">$</span><span class="va">n_countries</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tapply.html" class="external-link">tapply</a></span><span class="op">(</span></span>
<span>    <span class="va">contrast_inventors</span><span class="op">$</span><span class="va">country</span>, <span class="va">contrast_inventors</span><span class="op">$</span><span class="va">patent_id</span>, <span class="kw">function</span><span class="op">(</span><span class="va">cs</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">cs</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span><span class="op">[</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">patent_id</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co"># 6. add sex predictions</span></span>
<span>  <span class="va">inventor_sex</span> <span class="op">&lt;-</span> <span class="fu">vroom</span><span class="fu">::</span><span class="fu"><a href="https://vroom.r-lib.org/reference/vroom.html" class="external-link">vroom</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">outDir</span>, <span class="st">"inventor_sex.csv.xz"</span><span class="op">)</span>,</span>
<span>    show_col_types <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="va">contrast_inventors</span><span class="op">$</span><span class="va">prob_fem</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/structure.html" class="external-link">structure</a></span><span class="op">(</span></span>
<span>    <span class="va">inventor_sex</span><span class="op">$</span><span class="va">prob_fem</span>,</span>
<span>    names <span class="op">=</span> <span class="va">inventor_sex</span><span class="op">$</span><span class="va">id</span></span>
<span>  <span class="op">)</span><span class="op">[</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">inventor_id</span><span class="op">]</span></span>
<span>  <span class="va">contrast_inventors</span><span class="op">$</span><span class="va">pred_fem_patentsview</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/structure.html" class="external-link">structure</a></span><span class="op">(</span></span>
<span>    <span class="va">inventor_sex</span><span class="op">$</span><span class="va">pred_fem_patentsview</span>,</span>
<span>    names <span class="op">=</span> <span class="va">inventor_sex</span><span class="op">$</span><span class="va">id</span></span>
<span>  <span class="op">)</span><span class="op">[</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">inventor_id</span><span class="op">]</span></span>
<span></span>
<span>  <span class="fu">vroom</span><span class="fu">::</span><span class="fu"><a href="https://vroom.r-lib.org/reference/vroom_write.html" class="external-link">vroom_write</a></span><span class="op">(</span><span class="va">contrast_inventors</span>, <span class="va">contrast_inventors_file</span>, <span class="st">","</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>And get a high-level feel for the set:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># sex breakdowns</span></span>
<span><span class="co">## PatentsView assignments</span></span>
<span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">sex_patentsview</span> <span class="op">&lt;-</span> <span class="st">"Unknown"</span></span>
<span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">sex_patentsview</span><span class="op">[</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">pred_fem_patentsview</span> <span class="op">==</span> <span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Female"</span></span>
<span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">sex_patentsview</span><span class="op">[</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">pred_fem_patentsview</span> <span class="op">==</span> <span class="fl">0</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Male"</span></span>
<span><span class="va">sex_patentsview</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">sex_patentsview</span>, <span class="va">contrast_inventors</span><span class="op">$</span><span class="va">WIPO_class</span><span class="op">)</span></span>
<span><span class="va">sex_patentsview</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sweep.html" class="external-link">sweep</a></span><span class="op">(</span><span class="va">sex_patentsview</span>, <span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">colSums</a></span><span class="op">(</span><span class="va">sex_patentsview</span><span class="op">)</span>, <span class="st">"/"</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">sex_patentsview</span>, digits <span class="op">=</span> <span class="fl">3</span>, caption <span class="op">=</span> <span class="st">"Sex Breakdown - PatentsView"</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>Sex Breakdown - PatentsView</caption>
<thead><tr class="header">
<th align="left"></th>
<th align="right">Civil Engineering</th>
<th align="right">Pharmaceuticals</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Female</td>
<td align="right">6.095</td>
<td align="right">18.769</td>
</tr>
<tr class="even">
<td align="left">Male</td>
<td align="right">91.016</td>
<td align="right">76.374</td>
</tr>
<tr class="odd">
<td align="left">Unknown</td>
<td align="right">2.889</td>
<td align="right">4.856</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Aggregate assignments</span></span>
<span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">sex_aggregate</span> <span class="op">&lt;-</span> <span class="st">"Unknown"</span></span>
<span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">sex_aggregate</span><span class="op">[</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">prob_fem</span> <span class="op">&gt;</span> <span class="fl">.5</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Female"</span></span>
<span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">sex_aggregate</span><span class="op">[</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">prob_fem</span> <span class="op">&lt;</span> <span class="fl">.5</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Male"</span></span>
<span><span class="va">sex_aggregate</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">sex_aggregate</span>, <span class="va">contrast_inventors</span><span class="op">$</span><span class="va">WIPO_class</span><span class="op">)</span></span>
<span><span class="va">sex_aggregate</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sweep.html" class="external-link">sweep</a></span><span class="op">(</span><span class="va">sex_aggregate</span>, <span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">colSums</a></span><span class="op">(</span><span class="va">sex_aggregate</span><span class="op">)</span>, <span class="st">"/"</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">sex_aggregate</span>, digits <span class="op">=</span> <span class="fl">3</span>, caption <span class="op">=</span> <span class="st">"Sex Breakdown - Aggregate"</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>Sex Breakdown - Aggregate</caption>
<thead><tr class="header">
<th align="left"></th>
<th align="right">Civil Engineering</th>
<th align="right">Pharmaceuticals</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Female</td>
<td align="right">5.729</td>
<td align="right">20.307</td>
</tr>
<tr class="even">
<td align="left">Male</td>
<td align="right">94.100</td>
<td align="right">79.357</td>
</tr>
<tr class="odd">
<td align="left">Unknown</td>
<td align="right">0.171</td>
<td align="right">0.335</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Combined -- defaults to PatentsView, falls back on aggregate</span></span>
<span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">pred_female</span> <span class="op">&lt;-</span> <span class="va">contrast_inventors</span><span class="op">$</span><span class="va">pred_fem_patentsview</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">|</span></span>
<span>  <span class="op">(</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">pred_fem_patentsview</span> <span class="op">!=</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="va">contrast_inventors</span><span class="op">$</span><span class="va">prob_fem</span> <span class="op">&gt;</span> <span class="fl">.5</span><span class="op">)</span></span>
<span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">pred_male</span> <span class="op">&lt;-</span> <span class="va">contrast_inventors</span><span class="op">$</span><span class="va">pred_fem_patentsview</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">|</span></span>
<span>  <span class="op">(</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">pred_fem_patentsview</span> <span class="op">!=</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">contrast_inventors</span><span class="op">$</span><span class="va">prob_fem</span> <span class="op">&lt;</span> <span class="fl">.5</span><span class="op">)</span></span>
<span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">pred_sex</span> <span class="op">&lt;-</span> <span class="st">"Unknown"</span></span>
<span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">pred_sex</span><span class="op">[</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">pred_female</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Female"</span></span>
<span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">pred_sex</span><span class="op">[</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">pred_male</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Male"</span></span>
<span><span class="va">sex_combined</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">pred_sex</span>, <span class="va">contrast_inventors</span><span class="op">$</span><span class="va">WIPO_class</span><span class="op">)</span></span>
<span><span class="va">sex_combined</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sweep.html" class="external-link">sweep</a></span><span class="op">(</span><span class="va">sex_combined</span>, <span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">colSums</a></span><span class="op">(</span><span class="va">sex_combined</span><span class="op">)</span>, <span class="st">"/"</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">sex_combined</span>, digits <span class="op">=</span> <span class="fl">3</span>, caption <span class="op">=</span> <span class="st">"Sex Breakdown - Combined"</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>Sex Breakdown - Combined</caption>
<thead><tr class="header">
<th align="left"></th>
<th align="right">Civil Engineering</th>
<th align="right">Pharmaceuticals</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Female</td>
<td align="right">6.492</td>
<td align="right">19.597</td>
</tr>
<tr class="even">
<td align="left">Male</td>
<td align="right">93.450</td>
<td align="right">80.252</td>
</tr>
<tr class="odd">
<td align="left">Unknown</td>
<td align="right">0.058</td>
<td align="right">0.151</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># patent-level summary</span></span>
<span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">patent_id</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">patent_id</span><span class="op">)</span></span>
<span><span class="va">unique_patents</span> <span class="op">&lt;-</span> <span class="va">contrast_inventors</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html" class="external-link">duplicated</a></span><span class="op">(</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">patent_id</span><span class="op">)</span>, <span class="op">]</span></span>
<span><span class="va">unique_patents</span><span class="op">$</span><span class="va">any_female</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tapply.html" class="external-link">tapply</a></span><span class="op">(</span></span>
<span>  <span class="va">contrast_inventors</span><span class="op">$</span><span class="va">pred_female</span>, <span class="va">contrast_inventors</span><span class="op">$</span><span class="va">patent_id</span>, <span class="va">any</span></span>
<span><span class="op">)</span><span class="op">[</span><span class="va">unique_patents</span><span class="op">$</span><span class="va">patent_id</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">unique_patents</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 568326</span></span>
<span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span></span>
<span>  <span class="st">"Countries Per Patent"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">unique_patents</span><span class="op">$</span><span class="va">n_countries</span><span class="op">)</span>,</span>
<span>  <span class="st">"Inventors Per Patent"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">unique_patents</span><span class="op">$</span><span class="va">n_inventors</span><span class="op">)</span></span>
<span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="right">Min.</th>
<th align="right">1st Qu.</th>
<th align="right">Median</th>
<th align="right">Mean</th>
<th align="right">3rd Qu.</th>
<th align="right">Max.</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Countries Per Patent</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1.103</td>
<td align="right">1</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td align="left">Inventors Per Patent</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">2.860</td>
<td align="right">4</td>
<td align="right">42</td>
</tr>
</tbody>
</table>
<div class="section level2">
<h2 id="class-breakdown">Class Breakdown<a class="anchor" aria-label="anchor" href="#class-breakdown"></a>
</h2>
<p>WIPO classes are defined by sets of International Patent
Classification classes, which align with Cooperative Patent
Classification (CPC) classes, so we can take a finer look at our
contrasts by breaking out those classes:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cpc_matrix_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">outDir</span>, <span class="st">"contrast_cpc_matrix.rds"</span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.exists</a></span><span class="op">(</span><span class="va">cpc_matrix_file</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">cpc_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="va">cpc_matrix_file</span><span class="op">)</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="va">cpc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/download_patentsview_bulk.html">download_patentsview_bulk</a></span><span class="op">(</span><span class="st">"cpc_current"</span>, <span class="va">outDir</span>, make_db <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="va">cpc_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/patentsview_class_matrix.html">patentsview_class_matrix</a></span><span class="op">(</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">compute</a></span><span class="op">(</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">cpc</span>, <span class="va">patent_id</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">contrast_inventors</span><span class="op">$</span><span class="va">patent_id</span></span>
<span>  <span class="op">)</span><span class="op">)</span>, <span class="va">cpc_matrix_file</span>, dir <span class="op">=</span> <span class="va">outDir</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">cpc_group</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="../reference/download_patentsview_bulk.html">download_patentsview_bulk</a></span><span class="op">(</span><span class="st">"cpc_group"</span>, <span class="va">outDir</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">cpc_group</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">cpc_group</span><span class="op">$</span><span class="va">id</span></span>
<span></span>
<span><span class="co"># see which CPC classes best represent each focal WIPO class</span></span>
<span><span class="va">wipo_cpc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">vapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Civil Engineering"</span>, <span class="st">"Pharmaceuticals"</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">class</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">ids</span> <span class="op">&lt;-</span> <span class="va">unique_patents</span><span class="op">$</span><span class="va">patent_id</span><span class="op">[</span><span class="va">unique_patents</span><span class="op">$</span><span class="va">WIPO_class</span> <span class="op">==</span> <span class="va">class</span><span class="op">]</span></span>
<span>  <span class="va">ids</span> <span class="op">&lt;-</span> <span class="va">ids</span><span class="op">[</span><span class="va">ids</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">cpc_matrix</span><span class="op">)</span><span class="op">]</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">colSums</a></span><span class="op">(</span><span class="va">cpc_matrix</span><span class="op">[</span><span class="va">ids</span>, <span class="op">]</span> <span class="op">!=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="op">}</span>, <span class="va">cpc_matrix</span><span class="op">[</span><span class="fl">1</span>, <span class="op">]</span><span class="op">)</span></span>
<span><span class="va">wipo_cpc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sweep.html" class="external-link">sweep</a></span><span class="op">(</span><span class="va">wipo_cpc</span>, <span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">unique_patents</span><span class="op">$</span><span class="va">WIPO_class</span><span class="op">)</span>, <span class="st">"/"</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span><span class="op">)</span></span>
<span><span class="va">wipo_cpc</span><span class="op">$</span><span class="va">Difference</span> <span class="op">&lt;-</span> <span class="va">wipo_cpc</span><span class="op">$</span><span class="va">Pharmaceuticals</span> <span class="op">-</span> <span class="va">wipo_cpc</span><span class="op">$</span><span class="va">`Civil Engineering`</span></span>
<span><span class="va">wipo_cpc</span><span class="op">$</span><span class="va">Title</span> <span class="op">&lt;-</span> <span class="va">cpc_group</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">wipo_cpc</span><span class="op">)</span>, <span class="st">"title"</span><span class="op">]</span></span>
<span><span class="va">wipo_cpc</span> <span class="op">&lt;-</span> <span class="va">wipo_cpc</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="op">-</span><span class="va">wipo_cpc</span><span class="op">$</span><span class="va">Difference</span><span class="op">)</span>, <span class="op">]</span></span>
<span><span class="fu">kable</span><span class="op">(</span></span>
<span>  <span class="va">wipo_cpc</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fl">20</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">wipo_cpc</span><span class="op">)</span> <span class="op">-</span> <span class="fl">20</span><span class="op">)</span>, <span class="op">]</span>,</span>
<span>  digits <span class="op">=</span> <span class="fl">3</span>, caption <span class="op">=</span> <span class="st">"Percent of focal patents in which each CPC class appears"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>Percent of focal patents in which each CPC class
appears</caption>
<colgroup>
<col width="1%">
<col width="5%">
<col width="4%">
<col width="3%">
<col width="84%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="right">Civil Engineering</th>
<th align="right">Pharmaceuticals</th>
<th align="right">Difference</th>
<th align="left">Title</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">A61K</td>
<td align="right">0.007</td>
<td align="right">76.781</td>
<td align="right">76.774</td>
<td align="left">PREPARATIONS FOR MEDICAL, DENTAL, OR TOILET
PURPOSES</td>
</tr>
<tr class="even">
<td align="left">A61P</td>
<td align="right">0.001</td>
<td align="right">69.750</td>
<td align="right">69.749</td>
<td align="left">SPECIFIC THERAPEUTIC ACTIVITY OF CHEMICAL COMPOUNDS OR
MEDICINAL PREPARATIONS</td>
</tr>
<tr class="odd">
<td align="left">C07D</td>
<td align="right">0.019</td>
<td align="right">26.163</td>
<td align="right">26.145</td>
<td align="left">HETEROCYCLIC COMPOUNDS</td>
</tr>
<tr class="even">
<td align="left">C07K</td>
<td align="right">0.003</td>
<td align="right">24.184</td>
<td align="right">24.182</td>
<td align="left">PEPTIDES</td>
</tr>
<tr class="odd">
<td align="left">C12N</td>
<td align="right">0.022</td>
<td align="right">15.633</td>
<td align="right">15.611</td>
<td align="left">MICROORGANISMS OR ENZYMES; COMPOSITIONS THEREOF;
PROPAGATING, PRESERVING, OR MAINTAINING MICROORGANISMS; MUTATION OR
GENETIC ENGINEERING; CULTURE MEDIA</td>
</tr>
<tr class="even">
<td align="left">C07C</td>
<td align="right">0.049</td>
<td align="right">6.815</td>
<td align="right">6.766</td>
<td align="left">ACYCLIC OR CARBOCYCLIC COMPOUNDS</td>
</tr>
<tr class="odd">
<td align="left">G01N</td>
<td align="right">1.171</td>
<td align="right">7.388</td>
<td align="right">6.216</td>
<td align="left">INVESTIGATING OR ANALYSING MATERIALS BY DETERMINING
THEIR CHEMICAL OR PHYSICAL PROPERTIES</td>
</tr>
<tr class="even">
<td align="left">A61Q</td>
<td align="right">0.003</td>
<td align="right">3.871</td>
<td align="right">3.868</td>
<td align="left">SPECIFIC USE OF COSMETICS OR SIMILAR TOILET
PREPARATIONS</td>
</tr>
<tr class="odd">
<td align="left">Y10S</td>
<td align="right">6.465</td>
<td align="right">10.097</td>
<td align="right">3.633</td>
<td align="left">TECHNICAL SUBJECTS COVERED BY FORMER USPC
CROSS-REFERENCE ART COLLECTIONS [XRACs] AND DIGESTS</td>
</tr>
<tr class="even">
<td align="left">A61L</td>
<td align="right">0.112</td>
<td align="right">3.604</td>
<td align="right">3.492</td>
<td align="left">METHODS OR APPARATUS FOR STERILISING MATERIALS OR
OBJECTS IN GENERAL; DISINFECTION, STERILISATION, OR DEODORISATION OF
AIR; CHEMICAL ASPECTS OF BANDAGES, DRESSINGS, ABSORBENT PADS, OR
SURGICAL ARTICLES; MATERIALS FOR BANDAGES, DRESSINGS, ABSORBENT PADS, OR
SURGICAL ARTICLES</td>
</tr>
<tr class="odd">
<td align="left">C12Q</td>
<td align="right">0.015</td>
<td align="right">3.371</td>
<td align="right">3.356</td>
<td align="left">MEASURING OR TESTING PROCESSES INVOLVING ENZYMES,
NUCLEIC ACIDS OR MICROORGANISMS ; COMPOSITIONS OR TEST PAPERS THEREFOR;
PROCESSES OF PREPARING SUCH COMPOSITIONS; CONDITION-RESPONSIVE CONTROL
IN MICROBIOLOGICAL OR ENZYMOLOGICAL PROCESSES</td>
</tr>
<tr class="even">
<td align="left">A23L</td>
<td align="right">0.011</td>
<td align="right">2.917</td>
<td align="right">2.905</td>
<td align="left">FOODS, FOODSTUFFS, OR NON-ALCOHOLIC BEVERAGES, NOT
COVERED BY SUBCLASSES A21D OR A23B-A23J; THEIR PREPARATION OR TREATMENT,
e.g. COOKING, MODIFICATION OF NUTRITIVE QUALITIES, PHYSICAL TREATMENT ;
PRESERVATION OF FOODS OR FOODSTUFFS, IN GENERAL</td>
</tr>
<tr class="odd">
<td align="left">C07H</td>
<td align="right">0.008</td>
<td align="right">2.867</td>
<td align="right">2.858</td>
<td align="left">SUGARS; DERIVATIVES THEREOF; NUCLEOSIDES; NUCLEOTIDES;
NUCLEIC ACIDS</td>
</tr>
<tr class="even">
<td align="left">C07F</td>
<td align="right">0.006</td>
<td align="right">2.797</td>
<td align="right">2.792</td>
<td align="left">ACYCLIC, CARBOCYCLIC OR HETEROCYCLIC COMPOUNDS
CONTAINING ELEMENTS OTHER THAN CARBON, HYDROGEN, HALOGEN, OXYGEN,
NITROGEN, SULFUR, SELENIUM OR TELLURIUM</td>
</tr>
<tr class="odd">
<td align="left">Y02A</td>
<td align="right">2.122</td>
<td align="right">4.831</td>
<td align="right">2.709</td>
<td align="left">TECHNOLOGIES FOR ADAPTATION TO CLIMATE CHANGE</td>
</tr>
<tr class="even">
<td align="left">C12Y</td>
<td align="right">0.003</td>
<td align="right">2.583</td>
<td align="right">2.579</td>
<td align="left">ENZYMES</td>
</tr>
<tr class="odd">
<td align="left">A61M</td>
<td align="right">0.044</td>
<td align="right">1.851</td>
<td align="right">1.806</td>
<td align="left">DEVICES FOR INTRODUCING MEDIA INTO, OR ONTO, THE BODY ;
DEVICES FOR TRANSDUCING BODY MEDIA OR FOR TAKING MEDIA FROM THE BODY ;
DEVICES FOR PRODUCING OR ENDING SLEEP OR STUPOR</td>
</tr>
<tr class="even">
<td align="left">A01N</td>
<td align="right">0.047</td>
<td align="right">1.831</td>
<td align="right">1.784</td>
<td align="left">PRESERVATION OF BODIES OF HUMANS OR ANIMALS OR PLANTS
OR PARTS THEREOF ; BIOCIDES, e.g. AS DISINFECTANTS, AS PESTICIDES OR AS
HERBICIDES ; PEST REPELLANTS OR ATTRACTANTS; PLANT GROWTH
REGULATORS</td>
</tr>
<tr class="odd">
<td align="left">A23V</td>
<td align="right">0.003</td>
<td align="right">1.647</td>
<td align="right">1.644</td>
<td align="left">INDEXING SCHEME RELATING TO FOODS, FOODSTUFFS OR
NON-ALCOHOLIC BEVERAGES</td>
</tr>
<tr class="even">
<td align="left">C12P</td>
<td align="right">0.021</td>
<td align="right">1.458</td>
<td align="right">1.437</td>
<td align="left">FERMENTATION OR ENZYME-USING PROCESSES TO SYNTHESISE A
DESIRED CHEMICAL COMPOUND OR COMPOSITION OR TO SEPARATE OPTICAL ISOMERS
FROM A RACEMIC MIXTURE</td>
</tr>
<tr class="odd">
<td align="left">F16L</td>
<td align="right">2.310</td>
<td align="right">0.005</td>
<td align="right">-2.305</td>
<td align="left">PIPES; JOINTS OR FITTINGS FOR PIPES; SUPPORTS FOR
PIPES, CABLES OR PROTECTIVE TUBING; MEANS FOR THERMAL INSULATION IN
GENERAL</td>
</tr>
<tr class="even">
<td align="left">E03C</td>
<td align="right">2.451</td>
<td align="right">0.000</td>
<td align="right">-2.451</td>
<td align="left">DOMESTIC PLUMBING INSTALLATIONS FOR FRESH WATER OR
WASTE WATER ; SINKS</td>
</tr>
<tr class="odd">
<td align="left">E02B</td>
<td align="right">2.583</td>
<td align="right">0.000</td>
<td align="right">-2.582</td>
<td align="left">HYDRAULIC ENGINEERING</td>
</tr>
<tr class="even">
<td align="left">E05C</td>
<td align="right">2.880</td>
<td align="right">0.000</td>
<td align="right">-2.880</td>
<td align="left">BOLTS OR FASTENING DEVICES FOR WINGS, SPECIALLY FOR
DOORS OR WINDOWS</td>
</tr>
<tr class="odd">
<td align="left">E04G</td>
<td align="right">3.244</td>
<td align="right">0.000</td>
<td align="right">-3.244</td>
<td align="left">SCAFFOLDING; FORMS; SHUTTERING; BUILDING IMPLEMENTS OR
AIDS, OR THEIR USE; HANDLING BUILDING MATERIALS ON THE SITE; REPAIRING,
BREAKING-UP OR OTHER WORK ON EXISTING BUILDINGS</td>
</tr>
<tr class="even">
<td align="left">E01C</td>
<td align="right">3.333</td>
<td align="right">0.000</td>
<td align="right">-3.333</td>
<td align="left">CONSTRUCTION OF, OR SURFACES FOR, ROADS, SPORTS
GROUNDS, OR THE LIKE; MACHINES OR AUXILIARY TOOLS FOR CONSTRUCTION OR
REPAIR</td>
</tr>
<tr class="odd">
<td align="left">E04D</td>
<td align="right">3.424</td>
<td align="right">0.000</td>
<td align="right">-3.424</td>
<td align="left">ROOF COVERINGS; SKY-LIGHTS; GUTTERS; ROOF-WORKING
TOOLS</td>
</tr>
<tr class="even">
<td align="left">E02D</td>
<td align="right">3.836</td>
<td align="right">0.000</td>
<td align="right">-3.836</td>
<td align="left">FOUNDATIONS; EXCAVATIONS; EMBANKMENTS ; UNDERGROUND OR
UNDERWATER STRUCTURES</td>
</tr>
<tr class="odd">
<td align="left">E05D</td>
<td align="right">3.868</td>
<td align="right">0.000</td>
<td align="right">-3.868</td>
<td align="left">HINGES OR SUSPENSION DEVICES FOR DOORS, WINDOWS OR
WINGS</td>
</tr>
<tr class="even">
<td align="left">E05F</td>
<td align="right">4.154</td>
<td align="right">0.000</td>
<td align="right">-4.154</td>
<td align="left">DEVICES FOR MOVING WINGS INTO OPEN OR CLOSED POSITION;
CHECKS FOR WINGS; WING FITTINGS NOT OTHERWISE PROVIDED FOR, CONCERNED
WITH THE FUNCTIONING OF THE WING</td>
</tr>
<tr class="odd">
<td align="left">E04C</td>
<td align="right">4.332</td>
<td align="right">0.000</td>
<td align="right">-4.332</td>
<td align="left">STRUCTURAL ELEMENTS; BUILDING MATERIALS</td>
</tr>
<tr class="even">
<td align="left">E04F</td>
<td align="right">5.447</td>
<td align="right">0.001</td>
<td align="right">-5.446</td>
<td align="left">FINISHING WORK ON BUILDINGS, e.g. STAIRS, FLOORS</td>
</tr>
<tr class="odd">
<td align="left">E02F</td>
<td align="right">5.644</td>
<td align="right">0.000</td>
<td align="right">-5.644</td>
<td align="left">DREDGING; SOIL-SHIFTING</td>
</tr>
<tr class="even">
<td align="left">E05Y</td>
<td align="right">6.366</td>
<td align="right">0.000</td>
<td align="right">-6.366</td>
<td align="left">INDEXING SCHEME RELATING TO HINGES OR OTHER SUSPENSION
DEVICES FOR DOORS, WINDOWS OR WINGS AND DEVICES FOR MOVING WINGS INTO
OPEN OR CLOSED POSITION, CHECKS FOR WINGS AND WING FITTINGS NOT
OTHERWISE PROVIDED FOR, CONCERNED WITH THE FUNCTIONING OF THE WING</td>
</tr>
<tr class="odd">
<td align="left">E04H</td>
<td align="right">6.929</td>
<td align="right">0.000</td>
<td align="right">-6.929</td>
<td align="left">BUILDINGS OR LIKE STRUCTURES FOR PARTICULAR PURPOSES;
SWIMMING OR SPLASH BATHS OR POOLS; MASTS; FENCING; TENTS OR CANOPIES, IN
GENERAL</td>
</tr>
<tr class="even">
<td align="left">E06B</td>
<td align="right">7.114</td>
<td align="right">0.001</td>
<td align="right">-7.113</td>
<td align="left">FIXED OR MOVABLE CLOSURES FOR OPENINGS IN BUILDINGS,
VEHICLES, FENCES OR LIKE ENCLOSURES IN GENERAL, e.g. DOORS, WINDOWS,
BLINDS, GATES</td>
</tr>
<tr class="odd">
<td align="left">E04B</td>
<td align="right">8.470</td>
<td align="right">0.000</td>
<td align="right">-8.470</td>
<td align="left">GENERAL BUILDING CONSTRUCTIONS; WALLS, e.g. PARTITIONS;
ROOFS; FLOORS; CEILINGS; INSULATION OR OTHER PROTECTION OF
BUILDINGS</td>
</tr>
<tr class="even">
<td align="left">E05B</td>
<td align="right">8.500</td>
<td align="right">0.001</td>
<td align="right">-8.499</td>
<td align="left">LOCKS; ACCESSORIES THEREFOR; HANDCUFFS</td>
</tr>
<tr class="odd">
<td align="left">Y10T</td>
<td align="right">21.453</td>
<td align="right">1.734</td>
<td align="right">-19.719</td>
<td align="left">TECHNICAL SUBJECTS COVERED BY FORMER US
CLASSIFICATION</td>
</tr>
<tr class="even">
<td align="left">E21B</td>
<td align="right">27.344</td>
<td align="right">0.000</td>
<td align="right">-27.343</td>
<td align="left">EARTH DRILLING, e.g. DEEP DRILLING ; OBTAINING OIL,
GAS, WATER, SOLUBLE OR MELTABLE MATERIALS OR A SLURRY OF MINERALS FROM
WELLS</td>
</tr>
</tbody>
</table>
<p>We can also look at inventor sex breakdowns within CPC classes to see
which CPC classes might be driving the WIPO class inventor sex
differences:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sex_cpc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">vapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Female"</span>, <span class="st">"Male"</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">sex</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">ids</span> <span class="op">&lt;-</span> <span class="va">contrast_inventors</span><span class="op">$</span><span class="va">patent_id</span><span class="op">[</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">pred_sex</span> <span class="op">==</span> <span class="va">sex</span><span class="op">]</span></span>
<span>  <span class="va">ids</span> <span class="op">&lt;-</span> <span class="va">ids</span><span class="op">[</span><span class="va">ids</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">cpc_matrix</span><span class="op">)</span><span class="op">]</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">colSums</a></span><span class="op">(</span><span class="va">cpc_matrix</span><span class="op">[</span><span class="va">ids</span>, <span class="op">]</span> <span class="op">!=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="op">}</span>, <span class="va">cpc_matrix</span><span class="op">[</span><span class="fl">1</span>, <span class="op">]</span><span class="op">)</span></span>
<span><span class="va">sex_cpc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sweep.html" class="external-link">sweep</a></span><span class="op">(</span></span>
<span>  <span class="va">sex_cpc</span>, <span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">pred_sex</span>, exclude <span class="op">=</span> <span class="st">"Unknown"</span><span class="op">)</span>, <span class="st">"/"</span></span>
<span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span><span class="op">)</span></span>
<span><span class="va">sex_cpc</span><span class="op">$</span><span class="va">Difference</span> <span class="op">&lt;-</span> <span class="va">sex_cpc</span><span class="op">$</span><span class="va">Female</span> <span class="op">-</span> <span class="va">sex_cpc</span><span class="op">$</span><span class="va">Male</span></span>
<span><span class="va">sex_cpc</span><span class="op">$</span><span class="va">`Class Difference`</span> <span class="op">&lt;-</span> <span class="va">wipo_cpc</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">sex_cpc</span><span class="op">)</span>, <span class="st">"Difference"</span><span class="op">]</span></span>
<span><span class="va">sex_cpc</span><span class="op">$</span><span class="va">Title</span> <span class="op">&lt;-</span> <span class="va">cpc_group</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">sex_cpc</span><span class="op">)</span>, <span class="st">"title"</span><span class="op">]</span></span>
<span><span class="va">sex_cpc</span> <span class="op">&lt;-</span> <span class="va">sex_cpc</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="op">-</span><span class="va">sex_cpc</span><span class="op">$</span><span class="va">Difference</span><span class="op">)</span>, <span class="op">]</span></span>
<span><span class="fu">kable</span><span class="op">(</span></span>
<span>  <span class="va">sex_cpc</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fl">20</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">sex_cpc</span><span class="op">)</span> <span class="op">-</span> <span class="fl">20</span><span class="op">)</span>, <span class="op">]</span>,</span>
<span>  digits <span class="op">=</span> <span class="fl">3</span>, caption <span class="op">=</span> <span class="st">"Percent of inventors in each sex group on a patent with the given class"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>Percent of inventors in each sex group on a patent with the
given class</caption>
<colgroup>
<col width="1%">
<col width="2%">
<col width="2%">
<col width="3%">
<col width="5%">
<col width="85%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="right">Female</th>
<th align="right">Male</th>
<th align="right">Difference</th>
<th align="right">Class Difference</th>
<th align="left">Title</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">A61P</td>
<td align="right">67.285</td>
<td align="right">48.940</td>
<td align="right">18.344</td>
<td align="right">69.749</td>
<td align="left">SPECIFIC THERAPEUTIC ACTIVITY OF CHEMICAL COMPOUNDS OR
MEDICINAL PREPARATIONS</td>
</tr>
<tr class="even">
<td align="left">A61K</td>
<td align="right">64.474</td>
<td align="right">46.239</td>
<td align="right">18.235</td>
<td align="right">76.774</td>
<td align="left">PREPARATIONS FOR MEDICAL, DENTAL, OR TOILET
PURPOSES</td>
</tr>
<tr class="odd">
<td align="left">C07K</td>
<td align="right">24.548</td>
<td align="right">15.237</td>
<td align="right">9.311</td>
<td align="right">24.182</td>
<td align="left">PEPTIDES</td>
</tr>
<tr class="even">
<td align="left">C12N</td>
<td align="right">15.386</td>
<td align="right">9.307</td>
<td align="right">6.079</td>
<td align="right">15.611</td>
<td align="left">MICROORGANISMS OR ENZYMES; COMPOSITIONS THEREOF;
PROPAGATING, PRESERVING, OR MAINTAINING MICROORGANISMS; MUTATION OR
GENETIC ENGINEERING; CULTURE MEDIA</td>
</tr>
<tr class="odd">
<td align="left">C07D</td>
<td align="right">27.763</td>
<td align="right">23.587</td>
<td align="right">4.176</td>
<td align="right">26.145</td>
<td align="left">HETEROCYCLIC COMPOUNDS</td>
</tr>
<tr class="even">
<td align="left">G01N</td>
<td align="right">8.217</td>
<td align="right">5.013</td>
<td align="right">3.204</td>
<td align="right">6.216</td>
<td align="left">INVESTIGATING OR ANALYSING MATERIALS BY DETERMINING
THEIR CHEMICAL OR PHYSICAL PROPERTIES</td>
</tr>
<tr class="odd">
<td align="left">C12Q</td>
<td align="right">3.561</td>
<td align="right">2.065</td>
<td align="right">1.496</td>
<td align="right">3.356</td>
<td align="left">MEASURING OR TESTING PROCESSES INVOLVING ENZYMES,
NUCLEIC ACIDS OR MICROORGANISMS ; COMPOSITIONS OR TEST PAPERS THEREFOR;
PROCESSES OF PREPARING SUCH COMPOSITIONS; CONDITION-RESPONSIVE CONTROL
IN MICROBIOLOGICAL OR ENZYMOLOGICAL PROCESSES</td>
</tr>
<tr class="even">
<td align="left">A61Q</td>
<td align="right">3.210</td>
<td align="right">1.906</td>
<td align="right">1.304</td>
<td align="right">3.868</td>
<td align="left">SPECIFIC USE OF COSMETICS OR SIMILAR TOILET
PREPARATIONS</td>
</tr>
<tr class="odd">
<td align="left">Y02A</td>
<td align="right">4.836</td>
<td align="right">3.815</td>
<td align="right">1.021</td>
<td align="right">2.709</td>
<td align="left">TECHNOLOGIES FOR ADAPTATION TO CLIMATE CHANGE</td>
</tr>
<tr class="even">
<td align="left">A23L</td>
<td align="right">2.636</td>
<td align="right">1.620</td>
<td align="right">1.016</td>
<td align="right">2.905</td>
<td align="left">FOODS, FOODSTUFFS, OR NON-ALCOHOLIC BEVERAGES, NOT
COVERED BY SUBCLASSES A21D OR A23B-A23J; THEIR PREPARATION OR TREATMENT,
e.g. COOKING, MODIFICATION OF NUTRITIVE QUALITIES, PHYSICAL TREATMENT ;
PRESERVATION OF FOODS OR FOODSTUFFS, IN GENERAL</td>
</tr>
<tr class="odd">
<td align="left">C12Y</td>
<td align="right">2.480</td>
<td align="right">1.533</td>
<td align="right">0.947</td>
<td align="right">2.579</td>
<td align="left">ENZYMES</td>
</tr>
<tr class="even">
<td align="left">A23V</td>
<td align="right">1.627</td>
<td align="right">0.888</td>
<td align="right">0.739</td>
<td align="right">1.644</td>
<td align="left">INDEXING SCHEME RELATING TO FOODS, FOODSTUFFS OR
NON-ALCOHOLIC BEVERAGES</td>
</tr>
<tr class="odd">
<td align="left">A01K</td>
<td align="right">1.683</td>
<td align="right">0.981</td>
<td align="right">0.702</td>
<td align="right">1.169</td>
<td align="left">ANIMAL HUSBANDRY; CARE OF BIRDS, FISHES, INSECTS;
FISHING; REARING OR BREEDING ANIMALS, NOT OTHERWISE PROVIDED FOR; NEW
BREEDS OF ANIMALS</td>
</tr>
<tr class="even">
<td align="left">C07C</td>
<td align="right">6.042</td>
<td align="right">5.444</td>
<td align="right">0.599</td>
<td align="right">6.766</td>
<td align="left">ACYCLIC OR CARBOCYCLIC COMPOUNDS</td>
</tr>
<tr class="odd">
<td align="left">A61L</td>
<td align="right">2.453</td>
<td align="right">2.011</td>
<td align="right">0.442</td>
<td align="right">3.492</td>
<td align="left">METHODS OR APPARATUS FOR STERILISING MATERIALS OR
OBJECTS IN GENERAL; DISINFECTION, STERILISATION, OR DEODORISATION OF
AIR; CHEMICAL ASPECTS OF BANDAGES, DRESSINGS, ABSORBENT PADS, OR
SURGICAL ARTICLES; MATERIALS FOR BANDAGES, DRESSINGS, ABSORBENT PADS, OR
SURGICAL ARTICLES</td>
</tr>
<tr class="even">
<td align="left">A01N</td>
<td align="right">1.545</td>
<td align="right">1.186</td>
<td align="right">0.359</td>
<td align="right">1.784</td>
<td align="left">PRESERVATION OF BODIES OF HUMANS OR ANIMALS OR PLANTS
OR PARTS THEREOF ; BIOCIDES, e.g. AS DISINFECTANTS, AS PESTICIDES OR AS
HERBICIDES ; PEST REPELLANTS OR ATTRACTANTS; PLANT GROWTH
REGULATORS</td>
</tr>
<tr class="odd">
<td align="left">C12P</td>
<td align="right">1.493</td>
<td align="right">1.134</td>
<td align="right">0.359</td>
<td align="right">1.437</td>
<td align="left">FERMENTATION OR ENZYME-USING PROCESSES TO SYNTHESISE A
DESIRED CHEMICAL COMPOUND OR COMPOSITION OR TO SEPARATE OPTICAL ISOMERS
FROM A RACEMIC MIXTURE</td>
</tr>
<tr class="even">
<td align="left">C07H</td>
<td align="right">2.378</td>
<td align="right">2.044</td>
<td align="right">0.334</td>
<td align="right">2.858</td>
<td align="left">SUGARS; DERIVATIVES THEREOF; NUCLEOSIDES; NUCLEOTIDES;
NUCLEIC ACIDS</td>
</tr>
<tr class="odd">
<td align="left">C07B</td>
<td align="right">1.479</td>
<td align="right">1.151</td>
<td align="right">0.328</td>
<td align="right">1.384</td>
<td align="left">GENERAL METHODS OF ORGANIC CHEMISTRY; APPARATUS
THEREFOR</td>
</tr>
<tr class="even">
<td align="left">C12R</td>
<td align="right">0.718</td>
<td align="right">0.464</td>
<td align="right">0.254</td>
<td align="right">0.660</td>
<td align="left">INDEXING SCHEME ASSOCIATED WITH SUBCLASSES C12C - C12Q,
RELATING TO MICROORGANISMS</td>
</tr>
<tr class="odd">
<td align="left">E02B</td>
<td align="right">0.326</td>
<td align="right">0.783</td>
<td align="right">-0.457</td>
<td align="right">-2.582</td>
<td align="left">HYDRAULIC ENGINEERING</td>
</tr>
<tr class="even">
<td align="left">E05C</td>
<td align="right">0.410</td>
<td align="right">0.916</td>
<td align="right">-0.506</td>
<td align="right">-2.880</td>
<td align="left">BOLTS OR FASTENING DEVICES FOR WINGS, SPECIALLY FOR
DOORS OR WINDOWS</td>
</tr>
<tr class="odd">
<td align="left">F16L</td>
<td align="right">0.255</td>
<td align="right">0.831</td>
<td align="right">-0.575</td>
<td align="right">-2.305</td>
<td align="left">PIPES; JOINTS OR FITTINGS FOR PIPES; SUPPORTS FOR
PIPES, CABLES OR PROTECTIVE TUBING; MEANS FOR THERMAL INSULATION IN
GENERAL</td>
</tr>
<tr class="even">
<td align="left">E04G</td>
<td align="right">0.263</td>
<td align="right">0.936</td>
<td align="right">-0.673</td>
<td align="right">-3.244</td>
<td align="left">SCAFFOLDING; FORMS; SHUTTERING; BUILDING IMPLEMENTS OR
AIDS, OR THEIR USE; HANDLING BUILDING MATERIALS ON THE SITE; REPAIRING,
BREAKING-UP OR OTHER WORK ON EXISTING BUILDINGS</td>
</tr>
<tr class="odd">
<td align="left">E04D</td>
<td align="right">0.357</td>
<td align="right">1.069</td>
<td align="right">-0.712</td>
<td align="right">-3.424</td>
<td align="left">ROOF COVERINGS; SKY-LIGHTS; GUTTERS; ROOF-WORKING
TOOLS</td>
</tr>
<tr class="even">
<td align="left">E05D</td>
<td align="right">0.557</td>
<td align="right">1.274</td>
<td align="right">-0.717</td>
<td align="right">-3.868</td>
<td align="left">HINGES OR SUSPENSION DEVICES FOR DOORS, WINDOWS OR
WINGS</td>
</tr>
<tr class="odd">
<td align="left">E02D</td>
<td align="right">0.390</td>
<td align="right">1.200</td>
<td align="right">-0.810</td>
<td align="right">-3.836</td>
<td align="left">FOUNDATIONS; EXCAVATIONS; EMBANKMENTS ; UNDERGROUND OR
UNDERWATER STRUCTURES</td>
</tr>
<tr class="even">
<td align="left">E01C</td>
<td align="right">0.288</td>
<td align="right">1.143</td>
<td align="right">-0.855</td>
<td align="right">-3.333</td>
<td align="left">CONSTRUCTION OF, OR SURFACES FOR, ROADS, SPORTS
GROUNDS, OR THE LIKE; MACHINES OR AUXILIARY TOOLS FOR CONSTRUCTION OR
REPAIR</td>
</tr>
<tr class="odd">
<td align="left">E04C</td>
<td align="right">0.477</td>
<td align="right">1.378</td>
<td align="right">-0.901</td>
<td align="right">-4.332</td>
<td align="left">STRUCTURAL ELEMENTS; BUILDING MATERIALS</td>
</tr>
<tr class="even">
<td align="left">E04F</td>
<td align="right">0.590</td>
<td align="right">1.646</td>
<td align="right">-1.056</td>
<td align="right">-5.446</td>
<td align="left">FINISHING WORK ON BUILDINGS, e.g. STAIRS, FLOORS</td>
</tr>
<tr class="odd">
<td align="left">Y10S</td>
<td align="right">6.461</td>
<td align="right">7.517</td>
<td align="right">-1.056</td>
<td align="right">3.633</td>
<td align="left">TECHNICAL SUBJECTS COVERED BY FORMER USPC
CROSS-REFERENCE ART COLLECTIONS [XRACs] AND DIGESTS</td>
</tr>
<tr class="even">
<td align="left">E05F</td>
<td align="right">0.500</td>
<td align="right">1.562</td>
<td align="right">-1.062</td>
<td align="right">-4.154</td>
<td align="left">DEVICES FOR MOVING WINGS INTO OPEN OR CLOSED POSITION;
CHECKS FOR WINGS; WING FITTINGS NOT OTHERWISE PROVIDED FOR, CONCERNED
WITH THE FUNCTIONING OF THE WING</td>
</tr>
<tr class="odd">
<td align="left">E04H</td>
<td align="right">0.911</td>
<td align="right">2.001</td>
<td align="right">-1.090</td>
<td align="right">-6.929</td>
<td align="left">BUILDINGS OR LIKE STRUCTURES FOR PARTICULAR PURPOSES;
SWIMMING OR SPLASH BATHS OR POOLS; MASTS; FENCING; TENTS OR CANOPIES, IN
GENERAL</td>
</tr>
<tr class="even">
<td align="left">E06B</td>
<td align="right">1.012</td>
<td align="right">2.332</td>
<td align="right">-1.321</td>
<td align="right">-7.113</td>
<td align="left">FIXED OR MOVABLE CLOSURES FOR OPENINGS IN BUILDINGS,
VEHICLES, FENCES OR LIKE ENCLOSURES IN GENERAL, e.g. DOORS, WINDOWS,
BLINDS, GATES</td>
</tr>
<tr class="odd">
<td align="left">E05Y</td>
<td align="right">0.826</td>
<td align="right">2.261</td>
<td align="right">-1.434</td>
<td align="right">-6.366</td>
<td align="left">INDEXING SCHEME RELATING TO HINGES OR OTHER SUSPENSION
DEVICES FOR DOORS, WINDOWS OR WINGS AND DEVICES FOR MOVING WINGS INTO
OPEN OR CLOSED POSITION, CHECKS FOR WINGS AND WING FITTINGS NOT
OTHERWISE PROVIDED FOR, CONCERNED WITH THE FUNCTIONING OF THE WING</td>
</tr>
<tr class="even">
<td align="left">E05B</td>
<td align="right">1.248</td>
<td align="right">2.802</td>
<td align="right">-1.554</td>
<td align="right">-8.499</td>
<td align="left">LOCKS; ACCESSORIES THEREFOR; HANDCUFFS</td>
</tr>
<tr class="odd">
<td align="left">E02F</td>
<td align="right">0.654</td>
<td align="right">2.208</td>
<td align="right">-1.555</td>
<td align="right">-5.644</td>
<td align="left">DREDGING; SOIL-SHIFTING</td>
</tr>
<tr class="even">
<td align="left">E04B</td>
<td align="right">0.987</td>
<td align="right">2.704</td>
<td align="right">-1.717</td>
<td align="right">-8.470</td>
<td align="left">GENERAL BUILDING CONSTRUCTIONS; WALLS, e.g. PARTITIONS;
ROOFS; FLOORS; CEILINGS; INSULATION OR OTHER PROTECTION OF
BUILDINGS</td>
</tr>
<tr class="odd">
<td align="left">Y10T</td>
<td align="right">3.769</td>
<td align="right">8.048</td>
<td align="right">-4.278</td>
<td align="right">-19.719</td>
<td align="left">TECHNICAL SUBJECTS COVERED BY FORMER US
CLASSIFICATION</td>
</tr>
<tr class="even">
<td align="left">E21B</td>
<td align="right">4.235</td>
<td align="right">11.252</td>
<td align="right">-7.017</td>
<td align="right">-27.343</td>
<td align="left">EARTH DRILLING, e.g. DEEP DRILLING ; OBTAINING OIL,
GAS, WATER, SOLUBLE OR MELTABLE MATERIALS OR A SLURRY OF MINERALS FROM
WELLS</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="inventor-sex-distribution-over-time">Inventor Sex Distribution Over Time<a class="anchor" aria-label="anchor" href="#inventor-sex-distribution-over-time"></a>
</h2>
<p>Frequencies of patent categories change over time:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">unique_patents</span><span class="op">$</span><span class="va">year</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">unique_patents</span><span class="op">$</span><span class="va">date</span>, <span class="fl">1</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">wipo_trends</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">unique_patents</span><span class="op">$</span><span class="va">WIPO_class</span>, <span class="va">unique_patents</span><span class="op">$</span><span class="va">year</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">wipo_trends</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"WIPO_Class"</span>, <span class="st">"Year"</span>, <span class="st">"Patents"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://miserman.github.io/splot/" class="external-link">splot</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/splot/man/splot.html" class="external-link">splot</a></span><span class="op">(</span><span class="va">Patents</span> <span class="op">~</span> <span class="va">Year</span> <span class="op">*</span> <span class="va">WIPO_Class</span>, <span class="va">wipo_trends</span>, line.type <span class="op">=</span> <span class="st">"b"</span>, title <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="wipo_contrast_files/figure-html/unnamed-chunk-7-1.svg" width="848.64"></p>
<p>Frequencies of new inventors by assigned sex also changes over
time:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">year</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">date</span>, <span class="fl">1</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">contrast_inventors</span> <span class="op">&lt;-</span> <span class="va">contrast_inventors</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">date</span><span class="op">)</span>, <span class="op">]</span></span>
<span><span class="va">unique_inventors</span> <span class="op">&lt;-</span> <span class="va">contrast_inventors</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html" class="external-link">duplicated</a></span><span class="op">(</span><span class="va">contrast_inventors</span><span class="op">$</span><span class="va">inventor_id</span><span class="op">)</span>, <span class="op">]</span></span>
<span><span class="va">sex_trends</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">unique_inventors</span><span class="op">$</span><span class="va">pred_sex</span>, <span class="va">unique_inventors</span><span class="op">$</span><span class="va">year</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">sex_trends</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Assigned_Sex"</span>, <span class="st">"Year"</span>, <span class="st">"Inventors"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/splot/man/splot.html" class="external-link">splot</a></span><span class="op">(</span><span class="va">Inventors</span> <span class="op">~</span> <span class="va">Year</span> <span class="op">*</span> <span class="va">Assigned_Sex</span>, <span class="va">sex_trends</span>, line.type <span class="op">=</span> <span class="st">"b"</span>, title <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="wipo_contrast_files/figure-html/unnamed-chunk-8-1.svg" width="848.64"></p>
<p>How much might a difference in sex distribution between classes be
due to time? That is, we might expect to see more new inventor
participation in the dominant or rising class regardless of sex, which
could shift to sex distributions between classes.</p>
<p>To get at this, we might look at the distribution of first-seen
inventors by sex group between classes over time:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wipo_sex_yearly</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">vapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/split.html" class="external-link">split</a></span><span class="op">(</span></span>
<span>  <span class="va">unique_inventors</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"WIPO_class"</span>, <span class="st">"pred_sex"</span><span class="op">)</span><span class="op">]</span>, <span class="va">unique_inventors</span><span class="op">$</span><span class="va">year</span></span>
<span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">d</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">s</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">d</span><span class="op">$</span><span class="va">pred_sex</span>, <span class="va">d</span><span class="op">$</span><span class="va">WIPO_class</span>, exclude <span class="op">=</span> <span class="st">"Unknown"</span><span class="op">)</span></span>
<span>  <span class="va">s</span> <span class="op">&lt;-</span> <span class="va">s</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">s</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span></span>
<span>  <span class="va">s</span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span> <span class="op">-</span> <span class="va">s</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span></span>
<span><span class="op">}</span>, <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">wipo_sex_yearly</span><span class="op">$</span><span class="va">Year</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">wipo_sex_yearly</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/splot/man/splot.html" class="external-link">splot</a></span><span class="op">(</span></span>
<span>  <span class="va">wipo_sex_yearly</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span> <span class="op">~</span> <span class="va">wipo_sex_yearly</span><span class="op">$</span><span class="va">Year</span>,</span>
<span>  line.type <span class="op">=</span> <span class="st">"b"</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Sex Distribution Ballance Between WIPO Classes"</span>, labx <span class="op">=</span> <span class="st">"Year"</span>,</span>
<span>  laby <span class="op">=</span> <span class="st">"Percent Difference (Pharmaceuticals - Civil Engineering)"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="wipo_contrast_files/figure-html/unnamed-chunk-9-1.svg" width="848.64"></p>
<p>Here we can see that first-time female-assigned inventors have
consistently been more shifted toward pharmaceuticals than first-time
male-assigned inventors, and that in both groups there has been a fairly
consistent trend toward pharmaceuticals. Though it is interesting to see
that in the early years, first-time female-assigned inventors were more
evenly split between classes, and later on, first-time male-assigned
inventors were more evenly split between classes, though there is a more
recent trend in the original direction.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Biocomplexity Institute, Micah Iserman.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
