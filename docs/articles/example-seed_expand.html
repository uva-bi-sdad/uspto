<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Expand from a Seed Set • uspto</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Expand from a Seed Set">
<meta property="og:description" content="uspto">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">uspto</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/example-inventor_comparisons.html">Compare Inventors Between Search Sets</a>
    </li>
    <li>
      <a href="../articles/example-patentsview_inventors.html">Analyze Inventor Features Using PatentsView Data</a>
    </li>
    <li>
      <a href="../articles/example-patentsview_inventors_p2.html">Analyzing Inventor Sex Differences</a>
    </li>
    <li>
      <a href="../articles/example-seed_expand.html">Expand from a Seed Set</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Expand from a Seed Set</h1>
            
      
      
      <div class="hidden name"><code>example-seed_expand.Rmd</code></div>

    </div>

    
    
<p><em>Built with R 4.2.1</em></p>
<hr>
<style type="text/css">
td {white-space: nowrap}
</style>
<p>This example looks at a set of patent applications based on an
initial seed set.</p>
<div class="section level2">
<h2 id="data-collection">Data Collection<a class="anchor" aria-label="anchor" href="#data-collection"></a>
</h2>
<div class="section level3">
<h3 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h3>
<p>Before starting, we’ll need to load the package, and point to a
directory where we’d like things saved:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install if needed: remotes::install_guthub("uva-bi-sdad/uspto")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">uspto</span><span class="op">)</span></span>
<span><span class="va">outDir</span> <span class="op">&lt;-</span> <span class="st">"eda/seed_expand/"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="initial-search">Initial Search<a class="anchor" aria-label="anchor" href="#initial-search"></a>
</h3>
<p>We’ll start by identifying a small set of applications with a
meteorology Cooperative Patent Classification (CPC) class, and that
mention “global warming” or “climate change” in their abstracts:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">seed_set</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/uspto_search.html">uspto_search</a></span><span class="op">(</span></span>
<span>  <span class="st">'g01w.cpcl. AND ("global warming".ab. "climate change".ab.)'</span>,</span>
<span>  <span class="st">"US-PGPUB"</span>,</span>
<span>  outFile <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">outDir</span>, <span class="st">"seed_set.csv"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This gives us 9 applications from between 2012-05-17 and
2022-06-09.</p>
</div>
<div class="section level3">
<h3 id="examination-expansions">Examination Expansions<a class="anchor" aria-label="anchor" href="#examination-expansions"></a>
</h3>
<p>For some context around the examination of these applications, we’ll
want to collect all of the other applications examined by the examiners
of the initial set. Examiners are not included in applications, so we’ll
need to identify them by the office actions associated with the
applications.</p>
<div class="section level4">
<h4 id="seed-office-actions">Seed Office Actions<a class="anchor" aria-label="anchor" href="#seed-office-actions"></a>
</h4>
<p>First, we need to know which examiners examined the seed set of
applications:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">office_actions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/download_office_actions.html">download_office_actions</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"patentApplicationNumber:("</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">sub</a></span><span class="op">(</span><span class="st">"/"</span>, <span class="st">""</span>, <span class="va">seed_set</span><span class="op">$</span><span class="va">applicationNumber</span>, fixed <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    collapse <span class="op">=</span> <span class="st">" "</span></span>
<span>  <span class="op">)</span>, <span class="st">")"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">outDir</span>, <span class="st">"seed_set_office_actions.json.xz"</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>From these 14 office actions, we can get a set of examiners:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">examiners_ids</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">vapply</a></span><span class="op">(</span><span class="va">office_actions</span>, <span class="kw">function</span><span class="op">(</span><span class="va">oa</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws</a></span><span class="op">(</span><span class="va">oa</span><span class="op">$</span><span class="va">examinerEmployeeNumber</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>, <span class="st">""</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>And now we have 6 examiners who examined at least one application in
our seed set.</p>
</div>
<div class="section level4">
<h4 id="examiner-based-expansion">Examiner-Based Expansion<a class="anchor" aria-label="anchor" href="#examiner-based-expansion"></a>
</h4>
<p>Next, we want to collect all of the other applications our identified
examiners examined. Again, since examiners are not directly associated
with applications, we’ll have to first collect all of their office
actions:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">all_office_actions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/download_office_actions.html">download_office_actions</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"examinerEmployeeNumber:("</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">examiners_ids</span>, collapse <span class="op">=</span> <span class="st">" "</span><span class="op">)</span>, <span class="st">")"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">outDir</span>, <span class="st">"all_office_actions.json.xz"</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span><span class="va">all_applications</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">vapply</a></span><span class="op">(</span><span class="va">all_office_actions</span>, <span class="kw">function</span><span class="op">(</span><span class="va">oa</span><span class="op">)</span> <span class="va">oa</span><span class="op">$</span><span class="va">patentApplicationNumber</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, <span class="st">""</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>This gives us 3201 total applications.</p>
</div>
</div>
<div class="section level3">
<h3 id="collect-application-data">Collect Application Data<a class="anchor" aria-label="anchor" href="#collect-application-data"></a>
</h3>
<p>There are at least three sources of information that might be of
interest when considering the examination of a patent application: One
we have in office actions, another similar to those are the full
prosecution histories, and finally, the text of the applications
themselves.</p>
<div class="section level4">
<h4 id="prosecution-histories">Prosecution Histories<a class="anchor" aria-label="anchor" href="#prosecution-histories"></a>
</h4>
<p>Prosecution histories track when happens to an application between
the submitter and the patent office. These are recorded in the Patent
Examination Data System (PEDS):</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://arxiv.org/abs/1403.2805" class="external-link">jsonlite</a></span><span class="op">)</span></span>
<span><span class="va">examinations_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">outDir</span>, <span class="st">"examination_records.json.xz"</span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.exists</a></span><span class="op">(</span><span class="va">examinations_file</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">examination_records</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/jsonlite/man/read_json.html" class="external-link">read_json</a></span><span class="op">(</span><span class="va">examinations_file</span><span class="op">)</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="co"># have to break up the calls based on some limit on query length theoretically</span></span>
<span>  <span class="va">n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">all_applications</span><span class="op">)</span></span>
<span>  <span class="va">filters</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/split.html" class="external-link">split</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">sub</a></span><span class="op">(</span><span class="st">"/"</span>, <span class="st">""</span>, <span class="va">all_applications</span>, fixed <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">ceiling</a></span><span class="op">(</span><span class="va">n</span> <span class="op">/</span> <span class="fl">750</span><span class="op">)</span><span class="op">)</span>, <span class="va">n</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="kw">function</span><span class="op">(</span><span class="va">set</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"applId:("</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">set</span>, collapse <span class="op">=</span> <span class="st">" "</span><span class="op">)</span>, <span class="st">")"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="va">examination_records</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">filters</span>, <span class="kw">function</span><span class="op">(</span><span class="va">f</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="../reference/download_peds.html">download_peds</a></span><span class="op">(</span>filters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span><span class="op">)</span></span>
<span>  <span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">xzfile</a></span><span class="op">(</span><span class="va">examinations_file</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/jsonlite/man/read_json.html" class="external-link">write_json</a></span><span class="op">(</span><span class="va">examination_records</span>, <span class="va">con</span>, auto_unbox <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">close</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="application-text">Application Text<a class="anchor" aria-label="anchor" href="#application-text"></a>
</h3>
<p>Finally, we can collect the actual content of each application, based
on the document IDs included in the examination records:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">document_ids</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">examination_records</span>, <span class="kw">function</span><span class="op">(</span><span class="va">r</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">r</span><span class="op">$</span><span class="va">patentCaseMetadata</span><span class="op">$</span><span class="va">patentPublicationIdentification</span><span class="op">$</span><span class="va">publicationNumber</span></span>
<span><span class="op">}</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">oriDir</span> <span class="op">&lt;-</span> <span class="st">"eda/original/"</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.exists</a></span><span class="op">(</span><span class="va">oriDir</span><span class="op">)</span><span class="op">)</span> <span class="va">oriDir</span> <span class="op">&lt;-</span> <span class="st">"../eda/original/"</span></span>
<span><span class="va">applications</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/uspto_download.html">uspto_download</a></span><span class="op">(</span><span class="va">document_ids</span>, outDir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">oriDir</span>, <span class="st">"applications"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="analysis">Analysis<a class="anchor" aria-label="anchor" href="#analysis"></a>
</h2>
<p>We can start with a simple look at the text to get a feel for what
sets our seed set apart:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># identify the applications that were part of the initial seed set</span></span>
<span><span class="va">applications</span><span class="op">$</span><span class="va">seed</span> <span class="op">&lt;-</span> <span class="va">applications</span><span class="op">$</span><span class="va">applicationNumber</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">seed_set</span><span class="op">$</span><span class="va">applicationNumber</span></span>
<span></span>
<span><span class="co"># count up terms used within abstracts</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/miserman/lingmatch" class="external-link">lingmatch</a></span><span class="op">)</span></span>
<span><span class="va">dtm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lingmatch/man/lma_dtm.html" class="external-link">lma_dtm</a></span><span class="op">(</span><span class="va">applications</span><span class="op">$</span><span class="va">abstractHtml</span>, <span class="st">"function"</span>, dc.min <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># identify the terms that most identify the seed set</span></span>
<span><span class="va">term_seed_sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lingmatch/man/lma_simets.html" class="external-link">lma_simets</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">dtm</span><span class="op">)</span>, <span class="va">applications</span><span class="op">$</span><span class="va">seed</span>, metric <span class="op">=</span> <span class="st">"cosine"</span><span class="op">)</span></span>
<span><span class="va">term_seed_sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="va">term_seed_sim</span>, <span class="cn">TRUE</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">45</span><span class="op">]</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://miserman.github.io/splot/" class="external-link">splot</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/splot/man/splot.html" class="external-link">splot</a></span><span class="op">(</span></span>
<span>  <span class="va">term_seed_sim</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">term_seed_sim</span><span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"bar"</span>, sort <span class="op">=</span> <span class="cn">FALSE</span>, title <span class="op">=</span> <span class="cn">FALSE</span>, labx <span class="op">=</span> <span class="cn">FALSE</span>, laby <span class="op">=</span> <span class="st">"Similarity with Seed"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="example-seed_expand_files/figure-html/unnamed-chunk-10-1.svg" width="848.64"></p>
</div>
<div class="section level2">
<h2 id="examination-timing">Examination Timing<a class="anchor" aria-label="anchor" href="#examination-timing"></a>
</h2>
<p>Of more interest might be how long aspects of examination takes, and
what features of the application might be associated with that time.</p>
<p>We can extract timing from the examination records:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">examination_timing</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">rbind</span>, <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">examination_records</span>, <span class="kw">function</span><span class="op">(</span><span class="va">r</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">times</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/extract_event_timing.html">extract_event_timing</a></span><span class="op">(</span><span class="va">r</span><span class="op">$</span><span class="va">prosecutionHistoryDataBag</span><span class="op">$</span><span class="va">prosecutionHistoryData</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>    Classification_Time <span class="op">=</span> <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">times</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="va">times</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">days</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="kw">else</span> <span class="cn">NA</span>,</span>
<span>    Assignment_Time <span class="op">=</span> <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">times</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="va">times</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">days</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="kw">else</span> <span class="cn">NA</span>,</span>
<span>    First_Action_Time <span class="op">=</span> <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">times</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="va">times</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">days</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="kw">else</span> <span class="cn">NA</span>,</span>
<span>    Average_Action_Time <span class="op">=</span> <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">times</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">times</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">days</span><span class="op">)</span> <span class="kw">else</span> <span class="cn">NA</span>,</span>
<span>    Number_of_Actions <span class="op">=</span> <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">times</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">times</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span><span class="op">)</span> <span class="kw">else</span> <span class="fl">0</span>,</span>
<span>    row.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substring</a></span><span class="op">(</span><span class="va">r</span><span class="op">$</span><span class="va">patentCaseMetadata</span><span class="op">$</span><span class="va">applicationNumberText</span><span class="op">$</span><span class="va">value</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>      <span class="st">"/"</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substring</a></span><span class="op">(</span><span class="va">r</span><span class="op">$</span><span class="va">patentCaseMetadata</span><span class="op">$</span><span class="va">applicationNumberText</span><span class="op">$</span><span class="va">value</span>, <span class="fl">3</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">examination_timing</span> <span class="op">&lt;-</span> <span class="va">examination_timing</span><span class="op">[</span><span class="va">applications</span><span class="op">$</span><span class="va">applicationNumber</span>, <span class="op">]</span></span>
<span></span>
<span><span class="co"># look at only applications with extracted times</span></span>
<span><span class="va">has_timings</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">examination_timing</span><span class="op">$</span><span class="va">First_Action_Time</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">examination_timing</span> <span class="op">&lt;-</span> <span class="va">examination_timing</span><span class="op">[</span><span class="va">has_timings</span>, <span class="op">]</span></span></code></pre></div>
<p>Then look at the relationship between timings and actions:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lingmatch/man/lma_simets.html" class="external-link">lma_simets</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">examination_timing</span><span class="op">)</span>, metric <span class="op">=</span> <span class="st">"pearson"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">cors</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">cors</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">cors</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"("</span>, <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">cors</span><span class="op">)</span>, <span class="st">") "</span>, <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">cors</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">cors</span>, <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; 5 x 5 sparse Matrix of class "dtCMatrix" (unitriangular)</span></span>
<span><span class="co">#&gt;                             1      2     3     4 5</span></span>
<span><span class="co">#&gt; (1) Classification_Time I      .     .     .     .</span></span>
<span><span class="co">#&gt; (2) Assignment_Time     0.187  I     .     .     .</span></span>
<span><span class="co">#&gt; (3) First_Action_Time   0.151  0.161 I     .     .</span></span>
<span><span class="co">#&gt; (4) Average_Action_Time 0.138  0.156 0.855 I     .</span></span>
<span><span class="co">#&gt; (5) Number_of_Actions   0.141 -0.001 0.156 0.044 I</span></span></code></pre></div>
<p>Or associate timing and number of actions with terms used in the
application’s abstract:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># align applications with valid timings</span></span>
<span><span class="va">term_time_sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lingmatch/man/lma_simets.html" class="external-link">lma_simets</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">dtm</span><span class="op">[</span><span class="va">has_timings</span>, <span class="op">]</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">examination_timing</span><span class="op">)</span>, metric <span class="op">=</span> <span class="st">"pearson"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">for</span> <span class="op">(</span><span class="va">aspect</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">term_time_sim</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">terms</span> <span class="op">&lt;-</span> <span class="va">term_time_sim</span><span class="op">[</span>, <span class="va">aspect</span><span class="op">]</span></span>
<span>  <span class="va">terms</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="va">terms</span>, <span class="cn">TRUE</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">45</span><span class="op">]</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/splot/man/splot.html" class="external-link">splot</a></span><span class="op">(</span></span>
<span>    <span class="va">terms</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">terms</span><span class="op">)</span>,</span>
<span>    title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Terms Most Associated With "</span>, <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub</a></span><span class="op">(</span><span class="st">"_"</span>, <span class="st">" "</span>, <span class="va">aspect</span>, fixed <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    type <span class="op">=</span> <span class="st">"bar"</span>, sort <span class="op">=</span> <span class="cn">FALSE</span>, laby <span class="op">=</span> <span class="st">"Pearson's r"</span>, labx <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p><img src="example-seed_expand_files/figure-html/unnamed-chunk-14-1.svg" width="848.64"><img src="example-seed_expand_files/figure-html/unnamed-chunk-14-2.svg" width="848.64"><img src="example-seed_expand_files/figure-html/unnamed-chunk-14-3.svg" width="848.64"><img src="example-seed_expand_files/figure-html/unnamed-chunk-14-4.svg" width="848.64"><img src="example-seed_expand_files/figure-html/unnamed-chunk-14-5.svg" width="848.64"></p>
</div>
<div class="section level2">
<h2 id="art-unit-topics">Art Unit Topics<a class="anchor" aria-label="anchor" href="#art-unit-topics"></a>
</h2>
<p>We can also get a feel for what seems to characterize Group Art Units
by extracting topics from the applications they review.</p>
<p>We can start by getting art unit information for each
application:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">artunits</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">examination_records</span>, <span class="kw">function</span><span class="op">(</span><span class="va">r</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">res</span> <span class="op">&lt;-</span> <span class="va">r</span><span class="op">$</span><span class="va">patentCaseMetadata</span><span class="op">$</span><span class="va">groupArtUnitNumber</span><span class="op">$</span><span class="va">value</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">sub</a></span><span class="op">(</span><span class="st">"(\\d{2})"</span>, <span class="st">"\\1/"</span>, <span class="va">r</span><span class="op">$</span><span class="va">patentCaseMetadata</span><span class="op">$</span><span class="va">applicationNumberText</span><span class="op">$</span><span class="va">value</span>, perl <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="va">res</span></span>
<span><span class="op">}</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="va">applications</span><span class="op">$</span><span class="va">applicationNumber</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># number of applications assigned to each art unit</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">artunits</span><span class="op">)</span></span>
<span><span class="co">#&gt; artunits</span></span>
<span><span class="co">#&gt; 1734 2852 2857 2863 2864 2865 3623 </span></span>
<span><span class="co">#&gt;  533  808  500   24  844  274  133</span></span></code></pre></div>
<p>Then, we could get the same sort of associated set of terms, as with
the seed set:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gaus</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">artunits</span><span class="op">)</span></span>
<span><span class="va">term_artunit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lingmatch/man/lma_simets.html" class="external-link">lma_simets</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">dtm</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">vapply</a></span><span class="op">(</span><span class="va">artunits</span>, <span class="st">"=="</span>, <span class="fu"><a href="https://rdrr.io/r/base/logical.html" class="external-link">logical</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">gaus</span><span class="op">)</span><span class="op">)</span>, <span class="va">gaus</span><span class="op">)</span>,</span>
<span>  metric <span class="op">=</span> <span class="st">"pearson"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">term_artunit</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">gaus</span></span>
<span></span>
<span><span class="co"># look at top 10 terms for each</span></span>
<span><span class="va">get_top_terms</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">loadings</span>, <span class="va">n</span> <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">kable</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">vapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">loadings</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">col</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">loadings</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">loadings</span><span class="op">[</span>, <span class="va">col</span><span class="op">]</span>, decreasing <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">]</span><span class="op">]</span></span>
<span>  <span class="op">}</span>, <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu">get_top_terms</span><span class="op">(</span><span class="va">term_artunit</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="15%">
<col width="14%">
<col width="13%">
<col width="13%">
<col width="13%">
<col width="15%">
<col width="14%">
</colgroup>
<thead><tr class="header">
<th align="left">2865</th>
<th align="left">2857</th>
<th align="left">3623</th>
<th align="left">2852</th>
<th align="left">1734</th>
<th align="left">2863</th>
<th align="left">2864</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">line</td>
<td align="left">system</td>
<td align="left">business</td>
<td align="left">image</td>
<td align="left">gas</td>
<td align="left">sun</td>
<td align="left">data</td>
</tr>
<tr class="even">
<td align="left">corners</td>
<td align="left">malfunction</td>
<td align="left">user</td>
<td align="left">member</td>
<td align="left">stream</td>
<td align="left">tentative</td>
<td align="left">motion</td>
</tr>
<tr class="odd">
<td align="left">reconstructs</td>
<td align="left">transformed</td>
<td align="left">users</td>
<td align="left">forming</td>
<td align="left">catalyst</td>
<td align="left">tolerances</td>
<td align="left">values</td>
</tr>
<tr class="even">
<td align="left">reserves</td>
<td align="left">set</td>
<td align="left">sales</td>
<td align="left">toner</td>
<td align="left">dioxide</td>
<td align="left">closure</td>
<td align="left">sensors</td>
</tr>
<tr class="odd">
<td align="left">protrusions</td>
<td align="left">reference</td>
<td align="left">actions</td>
<td align="left">developing</td>
<td align="left">carbon</td>
<td align="left">golden</td>
<td align="left">based</td>
</tr>
<tr class="even">
<td align="left">imparted</td>
<td align="left">runtime</td>
<td align="left">customer</td>
<td align="left">developer</td>
<td align="left">containing</td>
<td align="left">radiations</td>
<td align="left">associated</td>
</tr>
<tr class="odd">
<td align="left">constrained</td>
<td align="left">boosted</td>
<td align="left">service</td>
<td align="left">direction</td>
<td align="left">oxidation</td>
<td align="left">sub-assembly</td>
<td align="left">determining</td>
</tr>
<tr class="even">
<td align="left">leakage</td>
<td align="left">build-up</td>
<td align="left">task</td>
<td align="left">formed</td>
<td align="left">hydrogen</td>
<td align="left">aims</td>
<td align="left">signals</td>
</tr>
<tr class="odd">
<td align="left">differential</td>
<td align="left">centrifugal</td>
<td align="left">score</td>
<td align="left">portion</td>
<td align="left">exhaust</td>
<td align="left">varies</td>
<td align="left">signal</td>
</tr>
<tr class="even">
<td align="left">prompting</td>
<td align="left">incipient</td>
<td align="left">scheduling</td>
<td align="left">apparatus</td>
<td align="left">removal</td>
<td align="left">uncorrected</td>
<td align="left">monitoring</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># we could use this to roughly predict art unit in-sample:</span></span>
<span><span class="va">predicted_art_unit</span> <span class="op">&lt;-</span> <span class="va">gaus</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/maxCol.html" class="external-link">max.col</a></span><span class="op">(</span><span class="va">dtm</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html" class="external-link">%*%</a></span> <span class="va">term_artunit</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">artunits</span>, <span class="va">predicted_art_unit</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">artunits</span><span class="op">)</span><span class="op">)</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt;         predicted_art_unit</span></span>
<span><span class="co">#&gt; artunits   1734   2852   2857   2863   2864   2865   3623</span></span>
<span><span class="co">#&gt;     1734 0.9962 0.0019 0.0000 0.0000 0.0000 0.0000 0.0019</span></span>
<span><span class="co">#&gt;     2852 0.0062 0.6349 0.0594 0.0000 0.2450 0.0223 0.0322</span></span>
<span><span class="co">#&gt;     2857 0.0060 0.0320 0.5680 0.0060 0.3540 0.0140 0.0200</span></span>
<span><span class="co">#&gt;     2863 0.0000 0.0417 0.0417 0.7917 0.1250 0.0000 0.0000</span></span>
<span><span class="co">#&gt;     2864 0.0213 0.0284 0.0249 0.0000 0.8993 0.0095 0.0166</span></span>
<span><span class="co">#&gt;     2865 0.0073 0.0255 0.0584 0.0000 0.3212 0.5657 0.0219</span></span>
<span><span class="co">#&gt;     3623 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 1.0000</span></span></code></pre></div>
<p>We could also extract general topics from this set of applications,
then see how much they are represented in each art unit’s assigned
applications:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># weigh terms</span></span>
<span><span class="va">wdtm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lingmatch/man/lma_weight.html" class="external-link">lma_weight</a></span><span class="op">(</span><span class="va">dtm</span>, <span class="st">"tf-idf"</span>, <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># get 10 simple topics</span></span>
<span><span class="co">## remotes::install_github("miserman/lusilab")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">lusilab</span><span class="op">)</span></span>
<span><span class="va">loadings</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lusilab/man/taffy.html" class="external-link">taffyInf</a></span><span class="op">(</span><span class="va">wdtm</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">loadings</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"taffy_"</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">loadings</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">scores</span> <span class="op">&lt;-</span> <span class="va">dtm</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html" class="external-link">%*%</a></span> <span class="va">loadings</span></span>
<span><span class="fu">get_top_terms</span><span class="op">(</span><span class="va">loadings</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="10%">
<col width="9%">
<col width="10%">
<col width="6%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="10%">
<col width="13%">
<col width="14%">
</colgroup>
<thead><tr class="header">
<th align="left">taffy_1</th>
<th align="left">taffy_2</th>
<th align="left">taffy_3</th>
<th align="left">taffy_4</th>
<th align="left">taffy_5</th>
<th align="left">taffy_6</th>
<th align="left">taffy_7</th>
<th align="left">taffy_8</th>
<th align="left">taffy_9</th>
<th align="left">taffy_10</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">b</td>
<td align="left">image</td>
<td align="left">data</td>
<td align="left">gas</td>
<td align="left">signal</td>
<td align="left">battery</td>
<td align="left">information</td>
<td align="left">methods</td>
<td align="left">member</td>
<td align="left">method</td>
</tr>
<tr class="even">
<td align="left">slidably</td>
<td align="left">forming</td>
<td align="left">collected</td>
<td align="left">stream</td>
<td align="left">frequency</td>
<td align="left">pack</td>
<td align="left">exercise</td>
<td align="left">systems</td>
<td align="left">developer-carrying</td>
<td align="left">determining</td>
</tr>
<tr class="odd">
<td align="left">announcement</td>
<td align="left">toner</td>
<td align="left">acquisition</td>
<td align="left">streams</td>
<td align="left">output</td>
<td align="left">charge</td>
<td align="left">mental</td>
<td align="left">disclosed</td>
<td align="left">insulates</td>
<td align="left">includes</td>
</tr>
<tr class="even">
<td align="left">sequential</td>
<td align="left">latent</td>
<td align="left">associated</td>
<td align="left">exhaust</td>
<td align="left">synchronous</td>
<td align="left">capacity</td>
<td align="left">wrist</td>
<td align="left">described</td>
<td align="left">bearing</td>
<td align="left">identifying</td>
</tr>
<tr class="odd">
<td align="left">k</td>
<td align="left">forms</td>
<td align="left">structured</td>
<td align="left">acid</td>
<td align="left">delays</td>
<td align="left">voltage</td>
<td align="left">similarity</td>
<td align="left">load-switching</td>
<td align="left">developer</td>
<td align="left">using</td>
</tr>
<tr class="even">
<td align="left">withdrawn</td>
<td align="left">carrier</td>
<td align="left">interpret</td>
<td align="left">flue</td>
<td align="left">esr</td>
<td align="left">blocks</td>
<td align="left">advice</td>
<td align="left">pc</td>
<td align="left">accommodate</td>
<td align="left">comprises</td>
</tr>
<tr class="odd">
<td align="left">orientation</td>
<td align="left">electrostatic</td>
<td align="left">collector</td>
<td align="left">lean</td>
<td align="left">digital</td>
<td align="left">lifespan</td>
<td align="left">credit</td>
<td align="left">utilize</td>
<td align="left">overlapped</td>
<td align="left">drilling-performance</td>
</tr>
<tr class="even">
<td align="left">counter-current</td>
<td align="left">recording</td>
<td align="left">collection</td>
<td align="left">p.sub.i</td>
<td align="left">rails</td>
<td align="left">discharging</td>
<td align="left">acquires</td>
<td align="left">answers</td>
<td align="left">image</td>
<td align="left">steps</td>
</tr>
<tr class="odd">
<td align="left">s-selective</td>
<td align="left">transfer</td>
<td align="left">battery-powered</td>
<td align="left">p.sub.o</td>
<td align="left">unmodulated</td>
<td align="left">estimating</td>
<td align="left">schedule</td>
<td align="left">include</td>
<td align="left">developing</td>
<td align="left">calculating</td>
</tr>
<tr class="even">
<td align="left">physical</td>
<td align="left">member</td>
<td align="left">gas-volume</td>
<td align="left">permeate</td>
<td align="left">modulated</td>
<td align="left">state</td>
<td align="left">action</td>
<td align="left">problems</td>
<td align="left">photosensitive</td>
<td align="left">obtaining</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># compare with kmeans</span></span>
<span><span class="va">topics_km</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/kmeans.html" class="external-link">kmeans</a></span><span class="op">(</span><span class="va">wdtm</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">loadings_km</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">topics_km</span><span class="op">$</span><span class="va">centers</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dimnames.html" class="external-link">dimnames</a></span><span class="op">(</span><span class="va">loadings_km</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">dtm</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"km_"</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">loadings</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">scores_km</span> <span class="op">&lt;-</span> <span class="va">dtm</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html" class="external-link">%*%</a></span> <span class="va">loadings_km</span></span>
<span><span class="fu">get_top_terms</span><span class="op">(</span><span class="va">loadings_km</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="10%">
<col width="11%">
<col width="14%">
<col width="7%">
<col width="9%">
<col width="9%">
<col width="7%">
<col width="10%">
<col width="8%">
<col width="9%">
</colgroup>
<thead><tr class="header">
<th align="left">km_1</th>
<th align="left">km_2</th>
<th align="left">km_3</th>
<th align="left">km_4</th>
<th align="left">km_5</th>
<th align="left">km_6</th>
<th align="left">km_7</th>
<th align="left">km_8</th>
<th align="left">km_9</th>
<th align="left">km_10</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">b</td>
<td align="left">defect</td>
<td align="left">renewable</td>
<td align="left">gas</td>
<td align="left">r.sub</td>
<td align="left">member</td>
<td align="left">mi</td>
<td align="left">data</td>
<td align="left">signal</td>
<td align="left">battery</td>
</tr>
<tr class="even">
<td align="left">orientation</td>
<td align="left">exercise</td>
<td align="left">positioning</td>
<td align="left">stream</td>
<td align="left">c.sub</td>
<td align="left">image</td>
<td align="left">mrow</td>
<td align="left">system</td>
<td align="left">sensor</td>
<td align="left">charge</td>
</tr>
<tr class="odd">
<td align="left">absorption</td>
<td align="left">torque</td>
<td align="left">mi</td>
<td align="left">dioxide</td>
<td align="left">radical</td>
<td align="left">developer</td>
<td align="left">msub</td>
<td align="left">device</td>
<td align="left">frequency</td>
<td align="left">voltage</td>
</tr>
<tr class="even">
<td align="left">gas</td>
<td align="left">steering</td>
<td align="left">features</td>
<td align="left">carbon</td>
<td align="left">t.sub</td>
<td align="left">toner</td>
<td align="left">math</td>
<td align="left">plurality</td>
<td align="left">output</td>
<td align="left">capacity</td>
</tr>
<tr class="odd">
<td align="left">liquid</td>
<td align="left">insolation</td>
<td align="left">vortex</td>
<td align="left">co.sub</td>
<td align="left">r.sup</td>
<td align="left">developing</td>
<td align="left">mn</td>
<td align="left">method</td>
<td align="left">signals</td>
<td align="left">state</td>
</tr>
<tr class="even">
<td align="left">means</td>
<td align="left">sales</td>
<td align="left">d</td>
<td align="left">catalyst</td>
<td align="left">constant</td>
<td align="left">portion</td>
<td align="left">mstyle</td>
<td align="left">power</td>
<td align="left">unit</td>
<td align="left">current</td>
</tr>
<tr class="odd">
<td align="left">co.sub</td>
<td align="left">lead</td>
<td align="left">location-unknown</td>
<td align="left">solution</td>
<td align="left">elastic</td>
<td align="left">unit</td>
<td align="left">mfrac</td>
<td align="left">information</td>
<td align="left">b</td>
<td align="left">soc</td>
</tr>
<tr class="even">
<td align="left">core</td>
<td align="left">failure-type</td>
<td align="left">longitude</td>
<td align="left">fuel</td>
<td align="left">m.sub</td>
<td align="left">forming</td>
<td align="left">g.sub</td>
<td align="left">sensor</td>
<td align="left">magnetic</td>
<td align="left">energy</td>
</tr>
<tr class="odd">
<td align="left">chamber</td>
<td align="left">information</td>
<td align="left">energy</td>
<td align="left">exhaust</td>
<td align="left">model</td>
<td align="left">transfer</td>
<td align="left">mspace</td>
<td align="left">value</td>
<td align="left">circuit</td>
<td align="left">estimating</td>
</tr>
<tr class="even">
<td align="left">exhaust</td>
<td align="left">types</td>
<td align="left">day</td>
<td align="left">acid</td>
<td align="left">parameters</td>
<td align="left">belt</td>
<td align="left">g.sub.n</td>
<td align="left">time</td>
<td align="left">phase</td>
<td align="left">secondary</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># compare with NMF</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/zdebruine/RcppML" class="external-link">RcppML</a></span><span class="op">)</span></span>
<span><span class="va">topics_nmf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/RcppML/man/nmf.html" class="external-link">nmf</a></span><span class="op">(</span><span class="va">wdtm</span>, <span class="fl">10</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">loadings_nmf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">topics_nmf</span><span class="op">$</span><span class="va">h</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dimnames.html" class="external-link">dimnames</a></span><span class="op">(</span><span class="va">loadings_nmf</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">dtm</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"nmf_"</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">loadings_nmf</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">topics_nmf</span><span class="op">$</span><span class="va">w</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">loadings_nmf</span><span class="op">)</span></span>
<span><span class="fu">get_top_terms</span><span class="op">(</span><span class="va">loadings_nmf</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="11%">
<col width="9%">
<col width="10%">
<col width="9%">
<col width="10%">
<col width="11%">
<col width="11%">
<col width="9%">
<col width="10%">
<col width="7%">
</colgroup>
<thead><tr class="header">
<th align="left">nmf_1</th>
<th align="left">nmf_2</th>
<th align="left">nmf_3</th>
<th align="left">nmf_4</th>
<th align="left">nmf_5</th>
<th align="left">nmf_6</th>
<th align="left">nmf_7</th>
<th align="left">nmf_8</th>
<th align="left">nmf_9</th>
<th align="left">nmf_10</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">data</td>
<td align="left">signal</td>
<td align="left">gas</td>
<td align="left">fixing</td>
<td align="left">member</td>
<td align="left">battery</td>
<td align="left">orientation</td>
<td align="left">fuel</td>
<td align="left">b</td>
<td align="left">mi</td>
</tr>
<tr class="even">
<td align="left">seismic</td>
<td align="left">sensor</td>
<td align="left">stream</td>
<td align="left">body</td>
<td align="left">developer</td>
<td align="left">voltage</td>
<td align="left">core</td>
<td align="left">tank</td>
<td align="left">absorption</td>
<td align="left">mrow</td>
</tr>
<tr class="odd">
<td align="left">unit</td>
<td align="left">frequency</td>
<td align="left">co.sub</td>
<td align="left">portion</td>
<td align="left">image</td>
<td align="left">charge</td>
<td align="left">means</td>
<td align="left">reactant</td>
<td align="left">s</td>
<td align="left">msub</td>
</tr>
<tr class="even">
<td align="left">model</td>
<td align="left">circuit</td>
<td align="left">dioxide</td>
<td align="left">belt</td>
<td align="left">toner</td>
<td align="left">capacity</td>
<td align="left">signals</td>
<td align="left">source</td>
<td align="left">liquid</td>
<td align="left">math</td>
</tr>
<tr class="odd">
<td align="left">system</td>
<td align="left">output</td>
<td align="left">carbon</td>
<td align="left">rotary</td>
<td align="left">developing</td>
<td align="left">state</td>
<td align="left">physical</td>
<td align="left">catalytic</td>
<td align="left">chamber</td>
<td align="left">mn</td>
</tr>
<tr class="even">
<td align="left">plurality</td>
<td align="left">power</td>
<td align="left">solution</td>
<td align="left">roller</td>
<td align="left">electrode</td>
<td align="left">current</td>
<td align="left">processed</td>
<td align="left">reactor</td>
<td align="left">co.sub</td>
<td align="left">mfrac</td>
</tr>
<tr class="odd">
<td align="left">information</td>
<td align="left">current</td>
<td align="left">absorbent</td>
<td align="left">surface</td>
<td align="left">supply</td>
<td align="left">soc</td>
<td align="left">master</td>
<td align="left">arranged</td>
<td align="left">processing</td>
<td align="left">mstyle</td>
</tr>
<tr class="even">
<td align="left">sensor</td>
<td align="left">voltage</td>
<td align="left">absorption</td>
<td align="left">member</td>
<td align="left">transfer</td>
<td align="left">unit</td>
<td align="left">device</td>
<td align="left">inert</td>
<td align="left">discharge</td>
<td align="left">s</td>
</tr>
<tr class="odd">
<td align="left">values</td>
<td align="left">signals</td>
<td align="left">liquid</td>
<td align="left">main</td>
<td align="left">unit</td>
<td align="left">temperature</td>
<td align="left">measure</td>
<td align="left">aircraft</td>
<td align="left">exhaust</td>
<td align="left">g.sub</td>
</tr>
<tr class="even">
<td align="left">fluid</td>
<td align="left">phase</td>
<td align="left">acid</td>
<td align="left">direction</td>
<td align="left">carrier</td>
<td align="left">charging</td>
<td align="left">memory</td>
<td align="left">inerting</td>
<td align="left">k</td>
<td align="left">coating</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># see how similar topics are in terms of loadings</span></span>
<span><span class="va">loadings_all</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">loadings</span>, <span class="va">loadings_km</span>, <span class="va">loadings_nmf</span><span class="op">)</span></span>
<span><span class="va">loading_cors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lingmatch/man/lma_simets.html" class="external-link">lma_simets</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">loadings_all</span><span class="op">)</span>, metric <span class="op">=</span> <span class="st">"pearson"</span><span class="op">)</span></span>
<span><span class="va">topic_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">loading_cors</span><span class="op">)</span></span>
<span><span class="va">scores_all</span> <span class="op">&lt;-</span> <span class="va">dtm</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html" class="external-link">%*%</a></span> <span class="va">loadings_all</span></span>
<span></span>
<span><span class="va">display_matrix</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">l</span>, <span class="va">threshold</span> <span class="op">=</span> <span class="fl">.1</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">v</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">l</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">v</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span> <span class="op">&lt;</span> <span class="va">threshold</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span>  <span class="fu">kable</span><span class="op">(</span><span class="va">v</span>, digits <span class="op">=</span> <span class="fl">3</span>, format.args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>zero.print <span class="op">=</span> <span class="st">"."</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">display_matrix</span><span class="op">(</span><span class="va">loading_cors</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"km"</span>, <span class="va">topic_names</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"taffy"</span>, <span class="va">topic_names</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="6%">
<col width="9%">
<col width="9%">
<col width="9%">
<col width="9%">
<col width="9%">
<col width="9%">
<col width="9%">
<col width="9%">
<col width="9%">
<col width="10%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="right">taffy_1</th>
<th align="right">taffy_2</th>
<th align="right">taffy_3</th>
<th align="right">taffy_4</th>
<th align="right">taffy_5</th>
<th align="right">taffy_6</th>
<th align="right">taffy_7</th>
<th align="right">taffy_8</th>
<th align="right">taffy_9</th>
<th align="right">taffy_10</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">km_1</td>
<td align="right">0.655</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
</tr>
<tr class="even">
<td align="left">km_2</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.219</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
</tr>
<tr class="odd">
<td align="left">km_3</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
</tr>
<tr class="even">
<td align="left">km_4</td>
<td align="right">0.158</td>
<td align="right">.</td>
<td align="right">-0.206</td>
<td align="right">0.699</td>
<td align="right">-0.123</td>
<td align="right">.</td>
<td align="right">-0.142</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
</tr>
<tr class="odd">
<td align="left">km_5</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
</tr>
<tr class="even">
<td align="left">km_6</td>
<td align="right">.</td>
<td align="right">0.668</td>
<td align="right">-0.160</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">-0.178</td>
<td align="right">0.677</td>
<td align="right">-0.259</td>
</tr>
<tr class="odd">
<td align="left">km_7</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
</tr>
<tr class="even">
<td align="left">km_8</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.343</td>
<td align="right">-0.145</td>
<td align="right">0.102</td>
<td align="right">.</td>
<td align="right">0.148</td>
<td align="right">.</td>
<td align="right">-0.132</td>
<td align="right">0.189</td>
</tr>
<tr class="odd">
<td align="left">km_9</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.146</td>
<td align="right">-0.141</td>
<td align="right">0.638</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
</tr>
<tr class="even">
<td align="left">km_10</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.789</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">display_matrix</span><span class="op">(</span><span class="va">loading_cors</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"nmf"</span>, <span class="va">topic_names</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"taffy"</span>, <span class="va">topic_names</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="7%">
<col width="9%">
<col width="9%">
<col width="9%">
<col width="9%">
<col width="9%">
<col width="9%">
<col width="9%">
<col width="9%">
<col width="9%">
<col width="10%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="right">taffy_1</th>
<th align="right">taffy_2</th>
<th align="right">taffy_3</th>
<th align="right">taffy_4</th>
<th align="right">taffy_5</th>
<th align="right">taffy_6</th>
<th align="right">taffy_7</th>
<th align="right">taffy_8</th>
<th align="right">taffy_9</th>
<th align="right">taffy_10</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">nmf_1</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.580</td>
<td align="right">-0.190</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.212</td>
<td align="right">.</td>
<td align="right">-0.193</td>
<td align="right">0.239</td>
</tr>
<tr class="even">
<td align="left">nmf_2</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">-0.137</td>
<td align="right">0.693</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
</tr>
<tr class="odd">
<td align="left">nmf_3</td>
<td align="right">0.142</td>
<td align="right">.</td>
<td align="right">-0.191</td>
<td align="right">0.684</td>
<td align="right">-0.122</td>
<td align="right">.</td>
<td align="right">-0.135</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
</tr>
<tr class="even">
<td align="left">nmf_4</td>
<td align="right">.</td>
<td align="right">0.368</td>
<td align="right">-0.151</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">-0.155</td>
<td align="right">0.382</td>
<td align="right">-0.183</td>
</tr>
<tr class="odd">
<td align="left">nmf_5</td>
<td align="right">.</td>
<td align="right">0.571</td>
<td align="right">-0.139</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">-0.142</td>
<td align="right">0.660</td>
<td align="right">-0.216</td>
</tr>
<tr class="even">
<td align="left">nmf_6</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.798</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
</tr>
<tr class="odd">
<td align="left">nmf_7</td>
<td align="right">0.250</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
</tr>
<tr class="even">
<td align="left">nmf_8</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.189</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.102</td>
<td align="right">.</td>
<td align="right">.</td>
</tr>
<tr class="odd">
<td align="left">nmf_9</td>
<td align="right">0.627</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
</tr>
<tr class="even">
<td align="left">nmf_10</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">display_matrix</span><span class="op">(</span><span class="va">loading_cors</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"nmf"</span>, <span class="va">topic_names</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"km"</span>, <span class="va">topic_names</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="10%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="8%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="right">km_1</th>
<th align="right">km_2</th>
<th align="right">km_3</th>
<th align="right">km_4</th>
<th align="right">km_5</th>
<th align="right">km_6</th>
<th align="right">km_7</th>
<th align="right">km_8</th>
<th align="right">km_9</th>
<th align="right">km_10</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">nmf_1</td>
<td align="right">.</td>
<td align="right">0.234</td>
<td align="right">0.142</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.869</td>
<td align="right">0.375</td>
<td align="right">0.165</td>
</tr>
<tr class="even">
<td align="left">nmf_2</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.444</td>
<td align="right">0.905</td>
<td align="right">0.167</td>
</tr>
<tr class="odd">
<td align="left">nmf_3</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.936</td>
<td align="right">0.137</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.126</td>
<td align="right">.</td>
<td align="right">.</td>
</tr>
<tr class="even">
<td align="left">nmf_4</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.186</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.587</td>
<td align="right">.</td>
<td align="right">0.232</td>
<td align="right">0.109</td>
<td align="right">.</td>
</tr>
<tr class="odd">
<td align="left">nmf_5</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.913</td>
<td align="right">.</td>
<td align="right">0.104</td>
<td align="right">.</td>
<td align="right">.</td>
</tr>
<tr class="even">
<td align="left">nmf_6</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.208</td>
<td align="right">0.139</td>
<td align="right">0.979</td>
</tr>
<tr class="odd">
<td align="left">nmf_7</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.186</td>
<td align="right">0.176</td>
<td align="right">.</td>
</tr>
<tr class="even">
<td align="left">nmf_8</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.352</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
</tr>
<tr class="odd">
<td align="left">nmf_9</td>
<td align="right">0.996</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.124</td>
<td align="right">.</td>
</tr>
<tr class="even">
<td align="left">nmf_10</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.349</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.995</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
</tr>
</tbody>
</table>
<p>Now we can look at trends in these topics over time within art
unit:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">applications</span><span class="op">$</span><span class="va">year</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">applications</span><span class="op">$</span><span class="va">datePublYear</span><span class="op">)</span></span>
<span><span class="va">trends</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">vapply</a></span><span class="op">(</span><span class="va">gaus</span>, <span class="kw">function</span><span class="op">(</span><span class="va">au</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">su</span> <span class="op">&lt;-</span> <span class="va">artunits</span> <span class="op">==</span> <span class="va">au</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/lingmatch/man/lma_simets.html" class="external-link">lma_simets</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">scores_all</span><span class="op">[</span><span class="va">artunits</span> <span class="op">==</span> <span class="va">au</span>, <span class="op">]</span><span class="op">)</span>, <span class="va">applications</span><span class="op">[</span><span class="va">su</span>, <span class="st">"year"</span><span class="op">]</span>, metric <span class="op">=</span> <span class="st">"pearson"</span><span class="op">)</span></span>
<span><span class="op">}</span>, <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">scores_all</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">display_matrix</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">trends</span><span class="op">)</span>, <span class="fl">.1</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="2%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="4%">
<col width="3%">
<col width="3%">
<col width="2%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="2%">
<col width="3%">
<col width="2%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="2%">
<col width="2%">
<col width="3%">
<col width="3%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="right">taffy_1</th>
<th align="right">taffy_2</th>
<th align="right">taffy_3</th>
<th align="right">taffy_4</th>
<th align="right">taffy_5</th>
<th align="right">taffy_6</th>
<th align="right">taffy_7</th>
<th align="right">taffy_8</th>
<th align="right">taffy_9</th>
<th align="right">taffy_10</th>
<th align="right">km_1</th>
<th align="right">km_2</th>
<th align="right">km_3</th>
<th align="right">km_4</th>
<th align="right">km_5</th>
<th align="right">km_6</th>
<th align="right">km_7</th>
<th align="right">km_8</th>
<th align="right">km_9</th>
<th align="right">km_10</th>
<th align="right">nmf_1</th>
<th align="right">nmf_2</th>
<th align="right">nmf_3</th>
<th align="right">nmf_4</th>
<th align="right">nmf_5</th>
<th align="right">nmf_6</th>
<th align="right">nmf_7</th>
<th align="right">nmf_8</th>
<th align="right">nmf_9</th>
<th align="right">nmf_10</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">2865</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">-0.135</td>
<td align="right">0.161</td>
<td align="right">0.120</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">-0.153</td>
<td align="right">.</td>
<td align="right">0.113</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.148</td>
<td align="right">0.204</td>
<td align="right">0.146</td>
<td align="right">0.119</td>
<td align="right">0.177</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.129</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.111</td>
<td align="right">.</td>
</tr>
<tr class="even">
<td align="left">2857</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.111</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.149</td>
<td align="right">-0.102</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.125</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
</tr>
<tr class="odd">
<td align="left">3623</td>
<td align="right">0.112</td>
<td align="right">-0.265</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">-0.109</td>
<td align="right">-0.154</td>
<td align="right">0.159</td>
<td align="right">-0.217</td>
<td align="right">0.113</td>
<td align="right">0.116</td>
<td align="right">.</td>
<td align="right">0.197</td>
<td align="right">0.191</td>
<td align="right">0.187</td>
<td align="right">.</td>
<td align="right">0.106</td>
<td align="right">0.139</td>
<td align="right">0.187</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.133</td>
<td align="right">0.139</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.197</td>
<td align="right">0.115</td>
<td align="right">.</td>
</tr>
<tr class="even">
<td align="left">2852</td>
<td align="right">.</td>
<td align="right">-0.507</td>
<td align="right">0.475</td>
<td align="right">.</td>
<td align="right">0.279</td>
<td align="right">0.290</td>
<td align="right">0.277</td>
<td align="right">0.420</td>
<td align="right">-0.425</td>
<td align="right">0.494</td>
<td align="right">.</td>
<td align="right">0.145</td>
<td align="right">0.130</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">-0.478</td>
<td align="right">0.136</td>
<td align="right">0.344</td>
<td align="right">0.243</td>
<td align="right">0.252</td>
<td align="right">0.378</td>
<td align="right">0.231</td>
<td align="right">.</td>
<td align="right">-0.399</td>
<td align="right">-0.427</td>
<td align="right">0.204</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
</tr>
<tr class="odd">
<td align="left">1734</td>
<td align="right">0.116</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">-0.103</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.119</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.155</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.116</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.136</td>
<td align="right">0.119</td>
<td align="right">.</td>
</tr>
<tr class="even">
<td align="left">2863</td>
<td align="right">.</td>
<td align="right">-0.287</td>
<td align="right">.</td>
<td align="right">-0.150</td>
<td align="right">.</td>
<td align="right">0.109</td>
<td align="right">.</td>
<td align="right">0.213</td>
<td align="right">-0.207</td>
<td align="right">0.271</td>
<td align="right">-0.124</td>
<td align="right">-0.162</td>
<td align="right">.</td>
<td align="right">-0.265</td>
<td align="right">-0.116</td>
<td align="right">-0.287</td>
<td align="right">-0.363</td>
<td align="right">-0.129</td>
<td align="right">-0.144</td>
<td align="right">.</td>
<td align="right">-0.193</td>
<td align="right">.</td>
<td align="right">-0.386</td>
<td align="right">-0.319</td>
<td align="right">-0.256</td>
<td align="right">-0.132</td>
<td align="right">0.219</td>
<td align="right">0.141</td>
<td align="right">-0.301</td>
<td align="right">-0.309</td>
</tr>
<tr class="odd">
<td align="left">2864</td>
<td align="right">.</td>
<td align="right">-0.154</td>
<td align="right">0.221</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.199</td>
<td align="right">-0.196</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.115</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.179</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">0.209</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
<td align="right">.</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">focal_unit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.min.html" class="external-link">which.max</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/Matrix/man/colSums.html" class="external-link">colMeans</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">trends</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">focal_topics</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">trends</span><span class="op">)</span>, <span class="fl">1</span>, <span class="va">max</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">.4</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">get_top_terms</span><span class="op">(</span><span class="va">loadings_all</span><span class="op">[</span>, <span class="va">focal_topics</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="13%">
<col width="14%">
<col width="14%">
<col width="17%">
<col width="19%">
<col width="10%">
<col width="10%">
</colgroup>
<thead><tr class="header">
<th align="left">taffy_2</th>
<th align="left">taffy_3</th>
<th align="left">taffy_8</th>
<th align="left">taffy_9</th>
<th align="left">taffy_10</th>
<th align="left">km_6</th>
<th align="left">nmf_5</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">image</td>
<td align="left">data</td>
<td align="left">methods</td>
<td align="left">member</td>
<td align="left">method</td>
<td align="left">member</td>
<td align="left">member</td>
</tr>
<tr class="even">
<td align="left">forming</td>
<td align="left">collected</td>
<td align="left">systems</td>
<td align="left">developer-carrying</td>
<td align="left">determining</td>
<td align="left">image</td>
<td align="left">developer</td>
</tr>
<tr class="odd">
<td align="left">toner</td>
<td align="left">acquisition</td>
<td align="left">disclosed</td>
<td align="left">insulates</td>
<td align="left">includes</td>
<td align="left">developer</td>
<td align="left">image</td>
</tr>
<tr class="even">
<td align="left">latent</td>
<td align="left">associated</td>
<td align="left">described</td>
<td align="left">bearing</td>
<td align="left">identifying</td>
<td align="left">toner</td>
<td align="left">toner</td>
</tr>
<tr class="odd">
<td align="left">forms</td>
<td align="left">structured</td>
<td align="left">load-switching</td>
<td align="left">developer</td>
<td align="left">using</td>
<td align="left">developing</td>
<td align="left">developing</td>
</tr>
<tr class="even">
<td align="left">carrier</td>
<td align="left">interpret</td>
<td align="left">pc</td>
<td align="left">accommodate</td>
<td align="left">comprises</td>
<td align="left">portion</td>
<td align="left">electrode</td>
</tr>
<tr class="odd">
<td align="left">electrostatic</td>
<td align="left">collector</td>
<td align="left">utilize</td>
<td align="left">overlapped</td>
<td align="left">drilling-performance</td>
<td align="left">unit</td>
<td align="left">supply</td>
</tr>
<tr class="even">
<td align="left">recording</td>
<td align="left">collection</td>
<td align="left">answers</td>
<td align="left">image</td>
<td align="left">steps</td>
<td align="left">forming</td>
<td align="left">transfer</td>
</tr>
<tr class="odd">
<td align="left">transfer</td>
<td align="left">battery-powered</td>
<td align="left">include</td>
<td align="left">developing</td>
<td align="left">calculating</td>
<td align="left">transfer</td>
<td align="left">unit</td>
</tr>
<tr class="even">
<td align="left">member</td>
<td align="left">gas-volume</td>
<td align="left">problems</td>
<td align="left">photosensitive</td>
<td align="left">obtaining</td>
<td align="left">belt</td>
<td align="left">carrier</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/splot/man/splot.html" class="external-link">splot</a></span><span class="op">(</span></span>
<span>  <span class="va">scores_all</span><span class="op">[</span>, <span class="va">focal_topics</span><span class="op">]</span> <span class="op">~</span> <span class="va">applications</span><span class="op">$</span><span class="va">year</span>,</span>
<span>  su <span class="op">=</span> <span class="va">artunits</span> <span class="op">==</span> <span class="va">focal_unit</span>, mv.scale <span class="op">=</span> <span class="cn">TRUE</span>, sud <span class="op">=</span> <span class="cn">FALSE</span>, myl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">9</span><span class="op">)</span>,</span>
<span>  title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Topic Over Time in Art Unit"</span>, <span class="va">focal_unit</span><span class="op">)</span>,</span>
<span>  lines <span class="op">=</span> <span class="st">"spline"</span>, laby <span class="op">=</span> <span class="st">"Topic Use (z-scored)"</span>, labx <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="example-seed_expand_files/figure-html/unnamed-chunk-18-1.svg" width="848.64"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Biocomplexity Institute, Micah Iserman.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
